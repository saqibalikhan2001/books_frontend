import{i as x,k as h,r,u as A,j as e,l as E,am as f,h as j}from"./index-4b3d7bc8.js";import{P as S}from"./PackageForm-ed679579.js";import{u as $}from"./usePermissions-36032956.js";import{A as b}from"./AccessDenied-45b92511.js";const{PACKAGES:c}=E,G=()=>{const i=x(),[n]=h(),o=n.get("id"),{checkPermission:d}=$(),[t,m]=r.useState([]),{callAxios:g,toggle:l,bool:u}=A(),{has_PackageEdit_permission:p}=d("PackageEdit"),_=r.useCallback(a=>m(a),[]),P=a=>{const k=t==null?void 0:t.map(s=>({...s,id:s==null?void 0:s.item_id,sales_order_item_detail_id:s==null?void 0:s.id,extra_description:""}));l(),g({method:"put",url:`${c}/${o}`,data:{...a,items:k,package_date:f(a.package_date)}}).then(s=>{s&&(j({message:s.message}),i(-1))})};return e.jsx(e.Fragment,{children:p?e.jsx(S,{edit:!0,loading:u,onSubmit:P,handleItemsList:_,url:`${c}/${o}/edit`}):e.jsx(b,{})})};export{G as default};
