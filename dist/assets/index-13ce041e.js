import{u as pe,j as e,P as us,n as hs,p as xs,o as Ie,h as D,U as Fe,H as $,ae as ps,af as ze,V as Xe,W as Ze,ag as bs,T as y,l as b,ah as js,F as S,r as h,B as ke,ao as fs,ap as Me,ak as ys,an as Te,E as es,R as Pe,i as $e,G as gs,O as We,v as ss,b3 as Ns,a3 as ts,y as as,J as Ts,aa as ks,az as ls,a0 as De,a1 as rs,b4 as Ss,aq as vs,ar as Es,as as Ue,at as Ge,au as Cs,aw as ws,ax as As,av as Is,M as Fs,e as xe,ay as we,D as $s,aA as Ms,a2 as Ps,s as ns,_ as cs,I as zs,aB as Ds,z as os,t as Rs,w as Os,b5 as Hs}from"./index-4b3d7bc8.js";import{P as is}from"./DetailPage-c0159ae7.js";import Ls from"./Create-09d8bbe0.js";import{g as Bs}from"./calculation-671db1b1.js";import{I as Vs}from"./ItemDetailTable-bdf77b6e.js";import{c as ds}from"./capitalize-cfd5966b.js";import{R as U,p as ne,q as ce,L as he,d as Ws,h as Us,a as Gs,E as qs}from"./DetailPlusListingHeader-5d7935e9.js";import{u as Re}from"./usePermissions-36032956.js";import{A as Ks}from"./ActionMenu-149e95aa.js";import{C as Ys}from"./ContactDetailModal-bc8d3392.js";import{P as Js}from"./Processing-a1197381.js";import{C as ms,u as Qs}from"./useCustomPagination-4b61827d.js";import{T as Xs,F as Zs,R as et}from"./ResizealeTable-fbbbae57.js";import{u as st}from"./useDetailPageProps-fa80b790.js";import{A as tt}from"./AccessDenied-45b92511.js";import{A as at}from"./index-9f4b88aa.js";import"./Table-9972bb2a.js";import"./InvoiceForm-947481b2.js";import"./AddressModal-12b3ae58.js";import"./CustomerTab-c6c321f7.js";import"./useListing-af775608.js";import"./useDelayUnmount-cb77ae7b.js";import"./index-b8658cbe.js";import"./progress-e3fed29d.js";import"./ImageUploader-b2d6894b.js";import"./Create-76ba1395.js";import"./PaginateSelect-b668bdaf.js";import"./ItemTable-c0313657.js";import"./react-beautiful-dnd.esm-fdc0d50f.js";import"./Create-8edeb959.js";import"./ItemForm-ceb885e2.js";import"./ImageCrop-db92a92e.js";import"./index-d9b76a87.js";import"./Create-93e4462e.js";import"./itemDetailModal-4a763e01.js";import"./DetailPage-51a1d58a.js";const{NEW_ESTIMATE:lt}=hs,{all_estimates:rt}=xs,{ADD_ESTIMATE:nt}=Ie,qe=({enable:a=!1,noData:t=!1})=>{const{callAxios:c}=pe(),_=[{key:"1",label:"Export estimates",disabled:!1,onClick:()=>{c({method:"post",url:"/estimates/export",data:{filter:"all",starting_date:"",ending_date:""}}).then(p=>{let j="data:text/csv;charset=utf-8,"+p,o=encodeURI(j),u=document.createElement("a");u.setAttribute("href",o),u.setAttribute("download","all_estimates.csv"),document.body.appendChild(u),u.click(),D({message:"All estimates exported successfully"})})}}];return e.jsx(e.Fragment,{children:e.jsx(us.SubHeader,{estimate:!0,show:t,enabled:a,estimateItems:_,title:rt,btnText:lt,navigateTo:nt})})},{Title:ct}=y,ot=({details:a,attachments:t,handleImage:c,multipleDownloads:l,singleAttachmentDelete:_})=>{const{callAxios:p}=pe(),{created_by_platform:j}=Fe(),o=u=>{p({url:`${b.ESTIMATES}/${u}/download-attachment`}).then(d=>{const x=document.createElement("a");x.href=d==null?void 0:d.file,x.download=`${d==null?void 0:d.name}.${d==null?void 0:d.type}`,x.click()})};return e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("div",{children:e.jsx(ct,{level:5,children:"Attachments"})}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"myattachement",children:[e.jsx($,{title:"Upload",children:e.jsx(ps,{size:20})}),e.jsx("input",{type:"file",name:"myfile",id:"myattachement",onChange:c,style:{display:"none"}})]}),(t==null?void 0:t.length)>0&&e.jsx($,{title:"Download All",children:e.jsx(ze,{size:18,onClick:l})})]})]}),e.jsx("div",{className:"w-100 attachment_gallery",style:{flexDirection:"row",display:"flex"},children:t==null?void 0:t.map((u,d)=>e.jsxs("div",{className:"attachement_image",children:[e.jsx(Xe,{preview:!1,style:{width:100,height:100},src:["png","jpg","jpeg","webp"].includes(u==null?void 0:u.attachment_type)?Ze(u==null?void 0:u.attachment,j):"https://s3-us-west-2.amazonaws.com/ims-development/static/media/file.png"}),e.jsxs("div",{className:"image_icon_overlay",children:[e.jsx($,{title:"Download",children:e.jsx(ze,{size:18,onClick:()=>o(u==null?void 0:u.id)})}),(a==null?void 0:a.is_attachment_deletable)&&e.jsx($,{title:"Delete",children:e.jsx(bs,{size:20,onClick:()=>_(u==null?void 0:u.id)})})]})]},d))})]})})},it=({details:a})=>e.jsx(e.Fragment,{children:e.jsx(js,{url:`${b.ESTIMATES}/${a==null?void 0:a.id}${b.ACTIVITY}`})}),{TextArea:dt}=ys,mt=({details:a})=>{var o,u,d;const[t]=S.useForm(),{callAxios:c}=pe(),[l,_]=h.useState(!1),p=S.useWatch("notes",t),j=()=>{_(!l),l&&c({url:`${b.ESTIMATES}/${a==null?void 0:a.id}${b.ESTIMATE_NOTE}`,method:"put",data:{customer_note:p}}).then(x=>{x&&D({message:x.message})})};return e.jsxs(e.Fragment,{children:[e.jsx(Vs,{details:a,tableData:a.estimates_details}),e.jsx("div",{className:"product-details-right ",children:e.jsxs("div",{className:" d-flex justify_between",children:[e.jsxs(S,{form:t,className:"_estimate_term_and_conditions",children:[e.jsxs("div",{children:[e.jsx("div",{className:"product_note",children:e.jsx(y.Title,{level:5,className:"fw-md",children:"Terms & Conditions"})}),e.jsx(y.Text,{className:"text mb-20",children:a==null?void 0:a.terms_and_condition})]}),e.jsxs("div",{className:"product-details-right",children:[e.jsxs("div",{className:"d-flex justify_between align-center",children:[e.jsx(y.Title,{level:5,className:"fw-md",children:"Memo"}),e.jsx(ke,{type:"link",clickHandler:j,btnText:l?"Save":e.jsxs(e.Fragment,{children:[e.jsx(fs,{}),e.jsx("span",{children:"Edit"})]}),className:l?"save_btn _btn":"edit_btn _btn"})]}),e.jsx(S.Item,{name:"notes",children:e.jsx(dt,{rows:4,showCount:!0,maxLength:255,disabled:!l,defaultValue:a==null?void 0:a.customer_note})})]})]}),e.jsxs("div",{className:"summary-estimate-sec",children:[e.jsxs("div",{className:"__customer_info mb-10",children:[e.jsx(y.Title,{level:5,className:"fw-bold",children:"Sub Total:"}),e.jsx(Me,{precision:2,className:"no-space",prefix:(o=a==null?void 0:a.base_currency)==null?void 0:o.symbol,value:Bs(a==null?void 0:a.estimates_details)||0})]}),e.jsxs("div",{className:"__customer_info mb-10",children:[e.jsx(y.Title,{level:5,className:"fw-bold",children:"Shipping:"}),e.jsx(Me,{precision:2,className:"no-space",value:(a==null?void 0:a.shipping_charge)||0,prefix:(u=a==null?void 0:a.base_currency)==null?void 0:u.symbol})]}),e.jsxs("div",{className:"__customer_info mb-10",children:[e.jsx(y.Title,{level:5,className:"fw-bold",children:"Estimate Total:"}),e.jsx(Me,{precision:2,className:"no-space",value:a==null?void 0:a.total,prefix:(d=a==null?void 0:a.base_currency)==null?void 0:d.symbol})]})]})]})})]})},{Text:Ne}=y,_t=(a,t,c,l,_,p,j,o,u,d)=>{var N,A,R,I,E,P,F,O,m,C,z,G,q,H,L,B,T,K,w,Y,Z,s,le,J,V,W,ee,Q,se,te,re,ae,oe,ie,de,me;const{org_date_format:x}=Fe(),{checkPermission:g}=Re(),{has_EstimatesDelete_permission:v}=g("EstimatesDelete");return[{Header:"Date",id:"estimate_date",accessor:r=>r,Cell:({value:r})=>e.jsxs("div",{className:"product_info align-center",children:[e.jsxs("div",{className:"product-title",children:[e.jsx(Ne,{children:Te(r==null?void 0:r.estimate_date,x)}),a&&e.jsx("div",{className:"stock_info",children:e.jsxs(Ne,{className:"single_line_name",children:[r==null?void 0:r.display_name," "]})})]}),a&&e.jsx(Ne,{code:!0,className:"center-badge",children:e.jsx("div",{className:r?` generic-bagde ${(r==null?void 0:r.status)&&(r==null?void 0:r.status)}`:"",children:ds(r==null?void 0:r.status)})})]}),minWidth:120,width:a?322:U("estimate_date",(N=t.table_setting)==null?void 0:N.preferences,(A=t.table_setting)==null?void 0:A.freez_table_width),locked:ne("estimate_date",(R=t.table_setting)==null?void 0:R.preferences),default:!0,sort_order:ce("estimate_date",(I=t.table_setting)==null?void 0:I.preferences)},{Header:"",id:"action",resizable:!1,isResizing:!1,disableResizing:!0,getResizerProps:()=>{},defaultResizeableColumn:!1,disableSortBy:!0,accessor:r=>r,disabledSort:!0,width:a?45:U("action",(E=t.table_setting)==null?void 0:E.preferences,(P=t.table_setting)==null?void 0:P.freez_table_width),minWidth:a?45:10,locked:!0,icon:!1,Cell:({value:r})=>e.jsx(Ks,{estimate:!0,data:r,sentMark:u,sendEmail:d,showDetail:a,handlePdf:l,handleClick:p,handleClone:c,currentStatus:r==null?void 0:r.status,handleConfirm:j,convertToInvoice:o,canEdit:r.platform_type==="books",deletePermission:r.platform_type==="books"?v:!1,title:r.platform_type==="books"&&v?`Are you sure you want to delete "${r.estimate_no}"?`:"Permission Denied"})},{Header:"Estimate number",accessor:"estimate_no",width:a?0:U("estimate_no",(F=t.table_setting)==null?void 0:F.preferences,(O=t.table_setting)==null?void 0:O.freez_table_width),locked:ne("estimate_no",(m=t.table_setting)==null?void 0:m.preferences),is_lockable:he("estimate_no",(C=t.table_setting)==null?void 0:C.preferences),sort_order:ce("estimate_no",(z=t.table_setting)==null?void 0:z.preferences)},{Header:"Customer",Cell:({value:r})=>e.jsx("span",{className:"single_line_name",children:r}),accessor:"display_name",width:a?0:U("display_name",(G=t.table_setting)==null?void 0:G.preferences,(q=t.table_setting)==null?void 0:q.freez_table_width),locked:ne("display_name",(H=t.table_setting)==null?void 0:H.preferences),is_lockable:he("display_name",(L=t.table_setting)==null?void 0:L.preferences),sort_order:ce("display_name",(B=t.table_setting)==null?void 0:B.preferences)},{Header:"Expiry date",accessor:"expiry_date",width:a?0:U("expiry_date",(T=t.table_setting)==null?void 0:T.preferences,(K=t.table_setting)==null?void 0:K.freez_table_width),locked:ne("expiry_date",(w=t.table_setting)==null?void 0:w.preferences),is_lockable:he("expiry_date",(Y=t.table_setting)==null?void 0:Y.preferences),sort_order:ce("expiry_date",(Z=t.table_setting)==null?void 0:Z.preferences),Cell:({value:r})=>e.jsx(Ne,{children:Te(r,x)})},{Header:"Amount",id:"total",accessor:r=>r,width:a?0:U("total",(s=t.table_setting)==null?void 0:s.preferences,(le=t.table_setting)==null?void 0:le.freez_table_width),locked:ne("total",(J=t.table_setting)==null?void 0:J.preferences),is_lockable:he("total",(V=t.table_set8ting)==null?void 0:V.preferences),sort_order:ce("total",(W=t.table_setting)==null?void 0:W.preferences),Cell:({cell:{value:r}})=>{var _e;return e.jsx(y,{children:`${(_e=r==null?void 0:r.currency)==null?void 0:_e.symbol}${r.total.toFixed(2)}`})}},{Header:"Status",accessor:"status",width:a?0:U("status",(ee=t.table_setting)==null?void 0:ee.preferences,(Q=t.table_setting)==null?void 0:Q.freez_table_width),locked:ne("status",(se=t.table_setting)==null?void 0:se.preferences),is_lockable:he("status",(te=t.table_setting)==null?void 0:te.preferences),sort_order:ce("status",(re=t.table_setting)==null?void 0:re.preferences),Cell:({cell:{value:r}})=>e.jsx("div",{className:`generic-bagde ${r&&r}`,children:r})},{Header:"Sending date",accessor:"sending_date",width:a?0:U("sending_date",(ae=t.table_setting)==null?void 0:ae.preferences,(oe=t.table_setting)==null?void 0:oe.freez_table_width),locked:ne("sending_date",(ie=t.table_setting)==null?void 0:ie.preferences),is_lockable:he("sending_date",(de=t.table_setting)==null?void 0:de.preferences),sort_order:ce("sending_date",(me=t.table_setting)==null?void 0:me.preferences),Cell:({value:r})=>e.jsx(Ne,{children:Te(r,x)})}]},ut=({pagination:a,setparam:t,handleSortPopOver:c})=>{const[l]=S.useForm(),_=S.useWatch("sort",l),p=S.useWatch("sort_column",l),[j,o]=h.useState("asc"),u=d=>{o(d.target.value)};return e.jsx("div",{className:"_generic_popupover_main",children:e.jsxs(S,{className:"inner_spacing",form:l,initialValues:{sort:a.sort||"asc",sort_column:a.sort_column||"name"},onFinish:d=>{t({...a,sort:d.sort,sort_column:d==null?void 0:d.sort_column}),c(!1)},style:{maxWidth:600,minWidth:250},children:[e.jsx("div",{className:"form_group  mb-20",children:e.jsx(es,{label:"",size:"middle",name:"sort_column",className:"adjustment-field",placeholder:"Sort by column",options:[[{id:"estimate_date",label:"Estimate date"}]]})}),e.jsxs("div",{className:"form_group  mb-20",children:[e.jsx("label",{children:"Sort order"}),e.jsx(S.Item,{name:"sort",children:e.jsxs(Pe.Group,{value:j,onChange:u,className:"important-block",children:[e.jsx(Pe,{value:"asc",className:"block",children:"Ascending"}),e.jsx(Pe,{value:"desc",className:"block",children:"Descending"})]})})]}),e.jsx("div",{className:"d-flex  pb-8 justify-center",children:e.jsx(ke,{className:"btn-primary w-96px h-36px",btnText:"Apply",disabled:a.sort===_&&a.sort_column===p})})]})})},ht=[{value:"sent",label:"Sent"}],xt=[{value:"accepted",label:"Accepted"},{value:"rejected",label:"Rejected"},{value:"expired",label:"Expired"}],{Title:pt}=y,{ESTIMATES_ClONE:bt,EDIT_ESTIMATE:jt}=Ie,ft=({data:a,detail:t,refetch:c,setparam:l,setFalse:_,handleConfirm:p})=>{var be,je,fe,ye,ge;const j=$e(),[o,u]=h.useState(),{callAxios:d}=pe(),{bool:x,setTrue:g}=gs(),[v,N]=h.useState(!1),[A,R]=h.useState("1"),[I,E]=h.useState(!1),[P,F]=h.useState(!1),{checkPermission:O}=Re(),m=JSON.parse(We("obj")),[C,z]=h.useState([]),G=JSON.parse(We("email")),[q,H]=h.useState(!1),[L,B]=h.useState(!1),{checkModulePermission:T}=ss(),{created_by_platform:K,org_date_format:w}=Fe(),[Y,Z]=h.useState(!1),[s,le]=h.useState();T("invoices"),O("InvoiceCreate");const J=T("sales-order"),{has_SalesOrderCreate_permission:V}=O("SalesOrderCreate"),{has_EstimatesDelete_permission:W}=O("EstimatesDelete"),ee=()=>N(!v),Q=()=>Z(!Y),se=()=>B(!L);h.useEffect(()=>{((t==null?void 0:t.id)??(m==null?void 0:m.curr_id))&&(E(!0),d({url:`${b.ESTIMATES}/${(t==null?void 0:t.id)??(m==null?void 0:m.curr_id)}`}).then(i=>{le(i),z(i==null?void 0:i.attachments),_==null||_(!1),E(!1)}))},[m==null?void 0:m.curr_id,t==null?void 0:t.id,x]),h.useEffect(()=>{N(!!G)},[G]);const te=h.useCallback(()=>d({url:`${b.ESTIMATE}/${s==null?void 0:s.id}${b.SALES_ORDERS}`,method:"post",data:s}).then(i=>{i&&(D({message:i.message}),c==null||c(),g())}),[s,c,g]),re=h.useCallback(()=>d({url:`${b.ESTIMATES}/${s==null?void 0:s.id}${b.ESTIMATE_SENT}`,method:"put"}).then(i=>{i&&(D({message:i.message}),c==null||c(),g())}),[s,c,g]),ae=i=>{if(R("2"),i.target.files!==void 0){F(!0);const f=new FormData;f.append("subjectId",s==null?void 0:s.id),f.append("name",s==null?void 0:s.estimate_no),f.append("files[0]",i.target.files[0]),d({url:b.ESTIMATE_ATTACHMENT,method:"post",data:f}).then(k=>{F(!1),D({message:k==null?void 0:k.message}),z([...C,k==null?void 0:k.data[0]]),g()})}},oe=i=>{F(!0),d({url:`${b.ESTIMATES}${b.ATTACHMENT}/${i}`,method:"delete"}).then(f=>{F(!1),D({message:f==null?void 0:f.message}),z(C==null?void 0:C.filter(k=>(k==null?void 0:k.id)!==i)),g()})},ie=()=>{F(!0),d({url:`${b.ESTIMATES}/${s==null?void 0:s.id}/download-all`}).then(i=>{const f=document.createElement("a");f.href=i==null?void 0:i.file,f.download=`${i==null?void 0:i.name}.${i==null?void 0:i.type}`,f.click(),F(!1)})},de=i=>{d({url:`${b.ESTIMATES}/${s==null?void 0:s.id}/${i}`,method:"put"}).then(f=>{f&&(D({message:f.message}),c==null||c(),g())})},me=()=>{d({url:`${b.ESTIMATES}/${s==null?void 0:s.id}/pdf`}).then(i=>{u(i),H(!0)})},r=()=>{d({url:`${b.ESTIMATES}/${s==null?void 0:s.id}/pdf?download=true`}).then(i=>{var k;const f=document.createElement("a");f.href=i,f.download=`${(k=s==null?void 0:s.contact)==null?void 0:k.display_name} Statement.pdf`,f.click()})},_e=h.useMemo(()=>[{key:"1",label:"Details",children:e.jsx(e.Fragment,{children:s&&Object.keys(s).length>0&&e.jsx(e.Fragment,{children:e.jsx(mt,{details:s})})})},{key:"2",label:"Attachments",children:e.jsx(e.Fragment,{children:s&&Object.keys(s).length>0&&e.jsx(e.Fragment,{children:e.jsx(ot,{details:s,attachments:C,handleImage:ae,multipleDownloads:ie,singleAttachmentDelete:oe})})})},{key:"3",label:"History",children:e.jsx(e.Fragment,{children:s&&Object.keys(s).length>0&&e.jsx(e.Fragment,{children:e.jsx(it,{details:s})})})}],[s,P]),Se=h.useMemo(()=>[{key:"0",onClick:te,label:"Convert to SO",icon:e.jsx(Ns,{size:18}),disabled:(s==null?void 0:s.status)!=="accepted"||!(!J&&V)}],[te,s==null?void 0:s.status,V,J]),ve=h.useMemo(()=>[{key:"0",label:"Duplicate",onClick:()=>j(`${bt}?id=${s==null?void 0:s.id}`)},{key:"1",label:"Mark as sent",onClick:re,disabled:(s==null?void 0:s.status)!=="draft"||!(!J&&V)},{key:"2",label:e.jsx(ts,{placement:"left",disabled:!((s==null?void 0:s.platform_type)==="books"&&W)||(s==null?void 0:s.status)!=="draft",title:`Are you sure you want to delete "${s==null?void 0:s.estimate_no}"?`,okText:(s==null?void 0:s.platform_type)==="books"&&W?"YES":"OK",cancelText:"No",showCancel:(s==null?void 0:s.platform_type)==="books"&&W,onCancel:i=>i==null?void 0:i.stopPropagation(),onConfirm:i=>{i==null||i.stopPropagation(),(s==null?void 0:s.platform_type)==="books"&&p(s,"/estimates",c,a,"/estimates",l)},children:e.jsx($,{title:"Delete",children:e.jsx("label",{style:{cursor:(s==null?void 0:s.platform_type)==="books"&&W||(s==null?void 0:s.status)==="draft"?"pointer":"not-allowed",width:"100%",display:"block"},onClick:i=>i==null?void 0:i.stopPropagation(),children:"Delete"})})},"confirm"),disabled:(s==null?void 0:s.status)!=="draft"}],[a,c,s,j,re,l,p,W,V,J]);return e.jsx(e.Fragment,{children:I?e.jsx(as,{}):e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{animation:"fadeInRight",animationDuration:"0.5s"},children:e.jsx("div",{style:{opacity:P?.5:1,pointerEvents:P?"none":"auto"},children:e.jsx(Ts,{className:" __items_details_header __estimate_detials_header",title:s==null?void 0:s.estimate_no,subTitle:e.jsx(ks,{className:`generic-bagde ${(s==null?void 0:s.status)&&(s==null?void 0:s.status)}`,children:ds(s==null?void 0:s.status)}),extra:[e.jsx(e.Fragment,{children:!v&&e.jsxs("div",{className:"__items_details_actions d-flex",children:[e.jsx(ls,{size:"large",options:(s==null?void 0:s.status)==="draft"?ht:(s==null?void 0:s.status)==="sent"?xt:[],className:"h-40px w-200 mr-20 __status_dropdown",placeholder:"Status",value:s==null?void 0:s.status,onChange:de,disabled:!((s==null?void 0:s.status)==="sent"||(s==null?void 0:s.status)==="draft")}),e.jsx(De.Button,{menu:{items:ve},trigger:["click"],icon:e.jsx(rs,{}),className:"mr-10 btn-edit",children:e.jsx("div",{style:{cursor:(s==null?void 0:s.status)==="draft"||(s==null?void 0:s.status)==="sent"?"pointer":"not-allowed",width:"100%"},onClick:()=>(s==null?void 0:s.status)==="draft"||(s==null?void 0:s.status)==="sent"?j(`${jt}?id=${s==null?void 0:s.id}`):null,children:"Edit"})}),e.jsx("div",{className:"d-flex align-center __convert_invoice_btn",children:e.jsx(De.Button,{type:"primary",disabled:(s==null?void 0:s.status)!=="accepted",onClick:se,menu:{items:Se},className:"__header_dropdown",trigger:["click"],icon:e.jsx(Ss,{size:10,className:"icon-radius estimates-icon"}),children:"Convert to invoice"})})]})})],footer:e.jsxs(e.Fragment,{children:[v?e.jsx(Is,{setEmail:N,handleEmail:ee,emailUrl:`${b.ESTIMATES}/${(s==null?void 0:s.id)??(m==null?void 0:m.curr_id)}/mail`}):e.jsxs("div",{className:"__estimate_content_side",children:[e.jsxs("div",{className:"_estimate_detial_page",children:[e.jsxs("div",{className:"d-flex mb-30",children:[e.jsx("div",{className:"__customer_image",children:e.jsx(Xe,{className:"customer-dp",preview:!1,src:(be=s==null?void 0:s.contact)!=null&&be.photo?Ze((je=s==null?void 0:s.contact)==null?void 0:je.photo,K):"https://s3-us-west-2.amazonaws.com/ims-development/media/default-user-image-placeholder.svg",placeholder:e.jsx(vs,{style:{width:34,height:34}})})}),e.jsxs("div",{className:"__estimate_detials",children:[e.jsxs("div",{className:"account_receipt d-flex __estimate_receipt",children:[e.jsx($,{placement:"bottom",title:"PDF",children:e.jsx("img",{className:"mr-10",src:"https://s3-us-west-2.amazonaws.com/ims-development/static/media/PDF.svg",alt:"",onClick:r})}),e.jsx($,{placement:"bottom",title:"Print",children:e.jsx("img",{className:"mr-10",src:"https://s3-us-west-2.amazonaws.com/ims-development/static/media/Print.svg",alt:"",onClick:me})})," ",e.jsx($,{placement:"bottom",title:"Email",children:e.jsx("img",{className:"mr-5",src:"https://ims-development.s3.us-west-2.amazonaws.com/static/media/email.svg",alt:"",onClick:ee})}),e.jsxs("label",{htmlFor:"myattachements",className:"",children:[e.jsx($,{placement:"bottom",title:"Attachment",children:e.jsx(Es,{size:"25px",onClick:ae})}),e.jsx("input",{type:"file",name:"myfile",id:"myattachements",onChange:ae,style:{display:"none"}})]})]}),e.jsxs("div",{className:"mb-15 __customer_info",children:[e.jsx("span",{className:"fw-md",children:"Reference number: "}),e.jsx("span",{className:"ref_title",children:s==null?void 0:s.reference})]}),e.jsxs("div",{className:"mb-15 __customer_info estimates_names estimates_reference",children:[e.jsx(Ue,{size:"18px"}),e.jsx("span",{onClick:Q,className:"_display_name estimates-name cursor",children:s==null?void 0:s.display_name})]}),e.jsxs("div",{className:"mb-15 __customer_info",children:[e.jsx(Ge,{size:"18px"}),e.jsx("span",{children:(fe=s==null?void 0:s.contact)==null?void 0:fe.company_name})]})]})]}),e.jsxs("div",{className:"product-details",children:[e.jsx("div",{className:"mb-20",children:e.jsx(pt,{level:4,children:"Bill to"})}),e.jsxs("div",{className:"d-flex justify_between",children:[e.jsxs("div",{className:"__estimate_details_left ",children:[e.jsxs("div",{className:"mb-15 __customer_info estimates_names",children:[e.jsx(Ue,{size:"18px"}),e.jsx("span",{className:"_display_name estimates-name",children:s==null?void 0:s.display_name})]}),e.jsxs("div",{className:"mb-15 __customer_info",children:[e.jsx(Ge,{size:"18px"}),e.jsx("span",{children:(ye=s==null?void 0:s.contact)==null?void 0:ye.company_name})]}),e.jsxs("div",{className:"mb-15 __customer_info",children:[e.jsx(Cs,{size:"18px"}),e.jsx("span",{children:(ge=s==null?void 0:s.billing_address)==null?void 0:ge.country_name})]})]}),e.jsxs("div",{className:"__estimate_details_right ",children:[e.jsxs("div",{className:"__customer_info mb-10",children:[e.jsx("span",{className:"fw-md w-102 mr-10",children:"Issue date:"})," ",e.jsx("span",{children:Te(s==null?void 0:s.estimate_date,w)})]}),e.jsxs("div",{className:"__customer_info mb-10",children:[e.jsx("span",{className:"fw-md w-102  mr-10",children:"Expiry date:"}),e.jsx("span",{children:Te(s==null?void 0:s.expiry_date,w)})]}),e.jsxs("div",{className:"__customer_info mb-10",children:[e.jsx("span",{className:"fw-md w-102  mr-10",children:"Payment terms:"}),e.jsx("span",{children:s==null?void 0:s.payment_term_name})]})]})]})]}),P&&e.jsx(Js,{})]}),e.jsx("div",{className:"bg-white",children:e.jsx(ws,{items:_e,onChange:As,defaultActiveKey:A,className:"__items-details_container __estimate_tab_container"})})]}),Y&&e.jsx(Ys,{isModal:!0,bool:Y,toggle:Q,detail:{id:s==null?void 0:s.customer_id}}),e.jsx(Fs,{className:"estimat_modal estimate_lg_modal",centered:!0,width:1300,footer:!1,destroyOnClose:!0,style:{top:0},open:L,title:"Create Invoice",onCancel:se,wrapClassName:"generic_modal_style",bodyStyle:{height:"100%"},children:e.jsx(Ls,{isModal:!0,estimateDetails:s,toggleModal:se,url:`/invoices/create?estimate_id=${s==null?void 0:s.id}`})})]})})})}),q&&e.jsx(is,{isModalOpen:q,setIsModalOpen:H,pdf:o})]})})},yt=[{id:"all",label:"All"},{id:"pending",label:"Pending"},{id:"accept",label:"Accepted"},{id:"rejected",label:"Rejected"},{id:"closed",label:"Closed"},{id:"draft",label:"Draft"},{id:"expired",label:"Expired"}],gt=[{key:1,value:"custom",label:"Custom"},{key:2,value:"today",label:"Today"},{key:3,value:"yesterday",label:"Yesterday"},{key:4,value:"this_week",label:"This week"},{key:5,value:"this_month",label:"This month"},{key:6,value:"this_qaurter",label:"This Quarter"},{key:7,value:"this_year",label:"This Year"},{key:8,value:"last_week",label:"Last week"},{key:9,value:"last_month",label:"Last month"},{key:10,value:"last_qaurter",label:"Last Quarter"},{key:11,value:"last_year",label:"Last Year"},{key:12,value:"last_365_days",label:"Last 365 days"}],{RangePicker:Nt}=Ms,Ae=xe(new Date),Tt=({form:a,pagination:t,handleOpenChange:c,setparam:l})=>{const{org_date_format:_}=Fe(),p=S.useWatch("filter",a),j=S.useWatch("date_range",a),o=S.useWatch("custom_ranges",a),u=t.start_range.split(" ")[0]??"",d=t.end_range.split(" ")[0]??"";return e.jsx("div",{className:"_generic_popupover_main",children:e.jsxs(S,{form:a,initialValues:{date_range:t.date_range||"today",filter:(t==null?void 0:t.filter)||"all",custom_ranges:t.date_range==="custom"?[xe(t==null?void 0:t.start_range),xe(t==null?void 0:t.end_range)]:[Ae,Ae]},onFinish:x=>{l({...t,filter:x==null?void 0:x.filter,date_range:x==null?void 0:x.date_range,start_range:x.custom_ranges?`${we(x.custom_ranges[0])} 00:00:00`:"",end_range:x.custom_ranges?`${we(x.custom_ranges[1])} 23:59:59`:""}),c(!1)},style:{maxWidth:600},children:[e.jsxs("div",{className:"form_group  mb-20",children:[e.jsx("label",{children:"Date"}),e.jsx(S.Item,{name:"date_range",className:"adjustment-field",children:e.jsx(ls,{size:"middle",options:gt.sort((x,g)=>x.key-g.key)})})]}),j==="custom"&&e.jsxs("div",{className:"form_group  mb-20",children:[e.jsx("label",{children:"Date Range"}),e.jsx(S.Item,{name:"custom_ranges",rules:$s({message:"Date Range required!"}),children:e.jsx(Nt,{format:_,separator:e.jsx("label",{children:"-"}),placeholder:[_,_]})})]}),e.jsxs("div",{className:"form_group  mb-20",children:[e.jsx("label",{children:"Status"}),e.jsx(es,{label:"",size:"middle",name:"filter",options:yt,allowClear:!1,placeholder:"Status",className:"adjustment-field"})]}),e.jsxs("div",{className:"d-flex _generic_popupover_actions",children:[e.jsx(ke,{className:"btn-default mr-15 w-96px h-36px",type:"text",disabled:p==="all"&&j==="today",clickHandler:()=>{a.setFieldsValue({date_range:"today",filter:"all",custom_ranges:[Ae,Ae]})},btnText:"Reset"}),e.jsx(ke,{btnText:"Apply",disabled:t.filter===p&&t.date_range===j&&t.date_range==="custom"&&u===we(o==null?void 0:o[0])&&t.date_range==="custom"&&d===we(o==null?void 0:o[1]),className:"btn-primary w-96px h-36px"})]})]})})},{Title:kt}=y,{GoPlus:St,RiEqualizerFill:ma}=zs,vt=({form:a,Prev:t,Next:c,refetch:l,popOver:_,listing:p,setparam:j,moduleName:o,navigateTo:u,handlePage:d,pagination:x,sortPopOver:g,handleRowSize:v,selectedProducts:N,handleSortPopOver:A,handleFullScreen:R,handleOpenChange:I})=>{const E=$e();return e.jsxs("div",{className:"product_detail_pagination",children:[e.jsxs("div",{className:"breadcrumb_row",children:[e.jsx(Ps,{name:"",detailPage:!0,refetch:l,moduleName:o,handleFullScreen:R}),e.jsxs("div",{className:"add_btn_outer",children:[e.jsx($,{placement:"bottom",title:"Add new estimate",children:e.jsx(ns,{icon:e.jsx(St,{}),onClick:()=>E(u)})}),!N.length&&e.jsxs(h.Fragment,{children:[e.jsx($,{placement:"bottom",title:"sort",children:e.jsx(cs,{title:e.jsx(kt,{className:"text-align",level:5,children:"Sorting"}),trigger:"click",open:g,onOpenChange:A,content:e.jsx(ut,{setparam:j,pagination:x,handleSortPopOver:A}),placement:"bottomRight",overlayClassName:"adjust-filter-main",children:e.jsxs("svg",{className:"sort-icon another-filter",xmlns:"http://www.w3.org/2000/svg",width:"17.831",height:"15.138",viewBox:"0 0 17.831 15.138",children:[e.jsx("defs",{children:e.jsx("clipPath",{id:"clip-path",children:e.jsx("rect",{id:"Rectangle_2085","data-name":"Rectangle 2085",width:"17.831",height:"15.138",fill:"#6e6e6e"})})}),e.jsxs("g",{id:"Group_11160","data-name":"Group 11160",clipPath:"url(#clip-path)",children:[e.jsx("path",{id:"Path_10301","data-name":"Path 10301",d:"M4.982.237a.81.81,0,0,0-1.145,0l-3.6,3.6A.81.81,0,0,0,1.382,4.982L3.6,2.762c0,.018,0,.036,0,.054V14.328a.81.81,0,1,0,1.62,0V2.816c0-.018,0-.036,0-.054l2.22,2.22A.81.81,0,0,0,8.581,3.837Z",transform:"translate(0 0)",fill:"#6e6e6e"}),e.jsx("path",{id:"Path_10302","data-name":"Path 10302",d:"M136.876,10.157a.81.81,0,0,0-1.145,0l-2.22,2.22c0-.018,0-.036,0-.054V.811a.81.81,0,1,0-1.62,0V12.323c0,.018,0,.036,0,.054l-2.22-2.22a.81.81,0,0,0-1.145,1.145l3.6,3.6a.81.81,0,0,0,1.145,0l3.6-3.6a.81.81,0,0,0,0-1.145",transform:"translate(-119.283 -0.001)",fill:"#6e6e6e"})]})]})})}),e.jsx(_s,{form:a,popOver:_,setparam:j,pagination:x,handleOpenChange:I})]})]})]}),!N.length&&e.jsx(ms,{Prev:t,Next:c,paginate:x,handlePage:d,className:"pagination_row",handleRowSize:v,totalPages:p.estimates.last_page})]})},Ke=({showDetail:a,selectedProducts:t,items:c})=>e.jsxs("div",{className:a?"product-detail-list product_list":"product_list",children:[e.jsxs(y.Title,{className:"selected_product",level:3,children:[t.length," ","Estimates Selected"]}),e.jsx(De,{menu:{items:c},trigger:["click"],children:e.jsxs("span",{style:{cursor:"pointer"},children:["Batch Actions ",e.jsx(rs,{})]})})]}),_s=({form:a,popOver:t,setparam:c,pagination:l,handleOpenChange:_})=>e.jsx($,{placement:"bottom",title:"Filter",children:e.jsx(cs,{title:"",open:t,trigger:"click",content:e.jsx(Tt,{form:a,setparam:c,pagination:l,handleOpenChange:_}),placement:"bottomRight",onOpenChange:_,overlayClassName:"adjust-filter-main custom-dropdown width_px",children:e.jsx("img",{style:{marginRight:"15px"},src:"https://s3-us-west-2.amazonaws.com/ims-development/static/media/Filter.svg",alt:"",className:"popup-over another-filter"})})}),Ye=({pagination:a,listing:t,setparam:c})=>{const l=_=>{(a==null?void 0:a.filter)===_?c({...a,filter:""}):c({...a,filter:_})};return e.jsxs("div",{className:"filter-top align-center",children:[e.jsxs("div",{className:"filter-badge newBluish_Shade cursor",onClick:()=>l("sent"),children:[e.jsx(y.Text,{className:"key",children:t==null?void 0:t.total_sent_amount}),e.jsxs(y.Text,{className:"value",children:[t==null?void 0:t.total_sent_estimates," Sent"]})]}),e.jsxs("div",{className:"filter-badge newRedish_Shade cursor",onClick:()=>l("rejected"),children:[e.jsx(y.Text,{className:"key",children:t==null?void 0:t.total_rejected_amount}),e.jsxs(y.Text,{className:"value",children:[t==null?void 0:t.total_rejected_estimates," Rejected"]})]}),e.jsxs("div",{className:"filter-badge newGrey_shade cursor",onClick:()=>l("closed"),children:[e.jsx(y.Text,{className:"key",children:t==null?void 0:t.total_closed_amount}),e.jsxs(y.Text,{className:"value",children:[t==null?void 0:t.total_closed_estimates," Closed"]})]}),e.jsxs("div",{className:"filter-badge newgreenish_shade cursor",onClick:()=>l("accepted"),children:[e.jsx(y.Text,{className:"key",children:t==null?void 0:t.total_accepted_amount}),e.jsxs(y.Text,{className:"value",children:[t==null?void 0:t.total_accepted_estimates," Accepted"]})]})]})},Je=xe(new Date),Et=({Prev:a,Next:t,refetch:c,listing:l,setparam:_,showDetail:p,handlePage:j,pagination:o,handleClick:u,handleRowSize:d,handleConfirm:x,handleViewClick:g,sidebarPosition:v,handleFullScreen:N})=>{var ve,be,je,fe,ye,ge,i,f,k,Oe,He,Le,Be,Ve;const[A]=S.useForm(),R=$e(),{callAxios:I}=pe(),[E,P]=h.useState(),[F,O]=h.useState(!1),[m,C]=h.useState(!1),[z,G]=h.useState(),[q,H]=h.useState(!1),[L,B]=h.useState(!1),[T,K]=h.useState(),[w,Y]=h.useState([]),[Z,s]=h.useState([]),[le,J]=h.useState([]),V=()=>{setTimeout(()=>{O(!F)},2e3)},W=()=>{_({...o,page:1,filter:"",date_range:"",start_range:"",end_range:""})},ee=n=>{A.setFieldsValue({filter:o.filter||"all",date_range:o.date_range||"today",custom_ranges:o.date_range==="custom"?[xe(o==null?void 0:o.start_range),xe(o==null?void 0:o.end_range)]:[Je,Je]}),C(n)},Q=n=>s(n),se=n=>H(n),te=n=>J(n),re=n=>R(`${Ie.ESTIMATES_ClONE}?id=${n==null?void 0:n.id}`),ae=n=>{I({url:`${b.ESTIMATES}/${n==null?void 0:n.id}/pdf`}).then(M=>{P(M),B(!0)})},oe=h.useCallback(n=>I({url:`${b.ESTIMATE}/${n==null?void 0:n.id}${b.INVOICES}`,method:"post",data:n}).then(M=>{M&&(D({message:M.message}),c())}),[c]),ie=h.useCallback(n=>I({url:`${b.ESTIMATES}/${n==null?void 0:n.id}${b.ESTIMATE_SENT}`,method:"put"}).then(M=>{M&&(D({message:M.message}),c())}),[c]),de=n=>{Ds("email",!0),os(n==null?void 0:n.id,!0,b.ESTIMATES),N(!0)},me=n=>{let M={};M={ids:w.map(X=>{var Ee;return(Ee=X==null?void 0:X.original)==null?void 0:Ee.id})},I({method:n==="delete"?"delete":"put",url:n==="delete"?b.ESTIMATES:`${b.ESTIMATES}/${n}`,data:M}).then(X=>{D({message:X==null?void 0:X.message}),c(),n==="delete"&&Rs(N)})},r=_t(p,l,re,ae,()=>null,u,x,oe,ie,de),_e=()=>{var M;const n=(M=l==null?void 0:l.estimates)==null?void 0:M.data.map(ue=>ue==null?void 0:ue.id);I({method:"post",url:`${b.ESTIMATES}/exportCurrentView`,data:{estimates_ids:n}}).then(ue=>{let X="data:text/csv;charset=utf-8,"+ue,Ee=encodeURI(X),Ce=document.createElement("a");Ce.setAttribute("href",Ee),Ce.setAttribute("download","estimates.csv"),document.body.appendChild(Ce),Ce.click(),D({message:"Estimates exported successfully"})})},Se=[{key:"3",label:e.jsx(ts,{placement:"left",title:"Are you sure you want to delete selected estimate?",okText:"Yes",cancelText:"No",showCancel:!0,onCancel:n=>n==null?void 0:n.stopPropagation(),onConfirm:n=>{n==null||n.stopPropagation(),me("delete")},children:e.jsx($,{title:"Delete",children:e.jsx("label",{style:{display:"block",width:"100%"},onClick:n=>n==null?void 0:n.stopPropagation(),children:"Delete"})})},"confirm")}];return e.jsxs("div",{className:"item_listing",children:[p&&e.jsx(vt,{form:A,Prev:a,Next:t,refetch:c,popOver:m,listing:l,setparam:_,handlePage:j,pagination:o,moduleName:"Estimates",sortPopOver:q,navigateTo:"/estimates-new",handleRowSize:d,selectedProducts:w,handleSortPopOver:se,handleFullScreen:N,handleOpenChange:ee}),w.length>0&&p&&e.jsx(e.Fragment,{children:e.jsx(Ke,{items:Se,showDetail:p,selectedProducts:w})}),w.length>0&&!p&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"custom-filter",children:e.jsx(Ye,{pagination:o,listing:l,setparam:_})}),e.jsx(Ke,{items:Se,showDetail:p,selectedProducts:w})]}),!w.length&&!p&&e.jsxs("div",{className:"custom-filter",children:[e.jsx(Ye,{pagination:o,listing:l,setparam:_}),e.jsxs("div",{className:"filter-bottom",children:[e.jsxs("div",{className:"d-flex",children:[e.jsx(_s,{form:A,popOver:m,setparam:_,pagination:o,handleOpenChange:ee}),((o==null?void 0:o.filter)||(o==null?void 0:o.date_range))&&e.jsx(ns,{type:"link",className:"d-flex align-items-end clear_filter_btn",onClick:W,children:"Clear filters"})]}),e.jsxs("div",{className:"d-flex align-center",children:[e.jsx($,{placement:"bottom",title:"Export estimates in current view",children:e.jsx(ze,{size:18,onClick:_e,className:"downLoad"})}),e.jsx(Xs,{url:"item",refetch:c,table_slug:"estimates",ColumnhideRef:z,ColumnOrderRef:T,handleSetCheck:V,setcolsheader:Q,tableSetting:l.table_setting,colsHeader:Z,preferences:(ve=l.table_setting)==null?void 0:ve.preferences,columns:r.filter(n=>n.locked===!1),column_reset_button:(be=l==null?void 0:l.table_setting)==null?void 0:be.column_reset_button,freeze_table_width:(je=l.table_setting)==null?void 0:je.freez_table_width}),e.jsx(ms,{Prev:a,Next:t,paginate:o,handlePage:j,className:"pagination_row",handleRowSize:d,totalPages:l.estimates.last_page})]})]})]}),e.jsx("div",{style:{animation:p?"fadeInLeft":"",animationDuration:"0.5s"},className:"my-custom-table",children:e.jsxs("div",{id:"wrapper",className:"item_table",children:[e.jsx("div",{className:"sticky_table",children:e.jsx(Zs,{loading:!1,refetch:c,setparam:_,table_slug:"estimates",showDetail:p,pagination:o,ReturnWidth:U,data:(fe=l==null?void 0:l.estimates)==null?void 0:fe.data,total:(ye=l==null?void 0:l.estimates)==null?void 0:ye.total,handleViewClick:g,sidebarPosition:v,setcolsheader:Q,selectedProducts:w,tableSetting:l.table_setting,colsHeader:Z,setSelectedProducts:Y,preferences:(ge=l.table_setting)==null?void 0:ge.preferences,colsHeaderForlockedCols:le,columns:r.filter(n=>n.locked===!0),handleTableFilterslockedcols:te,detailPageColumns:["selection","estimate_date","action"],defaultFreezTableWidth:Ws((i=l.table_setting)==null?void 0:i.freez_table_width),actionPref:Us((f=l.table_setting)==null?void 0:f.action_preference,(k=r.filter(n=>n.locked===!0))==null?void 0:k.length)})}),!p&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"no_sticky_table",children:e.jsx(et,{check:F,refetch:c,loading:!1,setparam:_,table_slug:"estimates",pagination:o,ReturnWidth:U,data:l.estimates.data,handleSetCheck:V,handleViewClick:g,sidebarPosition:v,setcolsheader:Q,setColumnHideRef:G,selectedProducts:w,tableSetting:l.table_setting,setColumnOrderRef:K,colsHeader:Z,setSelectedProducts:Y,preferences:(Oe=l.table_setting)==null?void 0:Oe.preferences,colsHeaderForlockedCols:le,columns:r==null?void 0:r.filter(n=>n.locked===!1),handleTableFilterslockedcols:te,defaultUnFreezTableWidth:Gs((He=l.table_setting)==null?void 0:He.freez_table_width),freeze_table_width:(Le=l.table_setting)==null?void 0:Le.freez_table_width,column_reset_button:(Be=l==null?void 0:l.table_setting)==null?void 0:Be.column_reset_button})})})]})}),e.jsx("div",{className:"item_listing_count",children:e.jsxs("p",{children:["Total Estimates : ",(Ve=l==null?void 0:l.estimates)==null?void 0:Ve.total]})}),L&&e.jsx(is,{isModalOpen:L,setIsModalOpen:B,pdf:E})]})},{ESTIMATES:Qe}=b,{EDIT_ESTIMATE:Ct}=Ie,_a=()=>{var B;const a=$e(),{bool:t,handleConfirm:c}=pe(),{checkPermission:l}=Re(),{paginate:_,Prev:p,Next:j,handlePage:o,handleRowSize:u,handlePagination:d}=Qs("estimates"),{checkModulePermission:x,getCurrentModule:g}=ss(),{status:v=void 0}=g("estimates")||{},{has_EstimatesView_permission:N}=l("EstimatesView"),A=Os(T=>T.sidebarReducer),{detail:R,setbool:I,fullScreen:E,bool:P,handleFullScreen:F,memoizeHandleClick:O}=st(),{data:m,refetch:C,isFetching:z}=Hs({paginate:_,sidebarPosition:A},{refetchOnMountOrArgChange:!0,skip:!N||x("estimates")}),G=T=>{os(T==null?void 0:T.id,!0,Qe),a(`${Ct}?id=${T.id}`)},q=h.useCallback(G,[a]),H=h.useCallback(T=>{var K;return c(T,Qe,C,(K=m==null?void 0:m.estimates)==null?void 0:K.data,"/estimates",d)},[c,C,m==null?void 0:m.estimates.data,d]),L=()=>{d({..._,page:1,filter:"",sort_by:"estimate_date",order_by:"asc",search:"",date_range:"",start_range:"",end_range:""})};return e.jsx(e.Fragment,{children:N?e.jsx(e.Fragment,{children:t||z?e.jsx(as,{}):(m==null?void 0:m.estimates.data.length)>0?e.jsx("div",{className:"product_detail_listing",style:{animation:"slideInLeft",animationDuration:"0.5s"},children:e.jsxs(e.Fragment,{children:[!v&&e.jsx(at,{showIcon:!0,type:"info",message:"Module Permissions",description:"Please Enable Module Permissions To See Details"}),!E&&e.jsx(qe,{enable:!v}),e.jsxs("div",{className:E?"scrollbar_container":"",children:[!P&&e.jsx("div",{className:E?"list":"full_screen",children:(m==null?void 0:m.estimates)&&e.jsx(Et,{Prev:p,Next:j,listing:m,refetch:C,loading:z,pagination:_,showDetail:E,handlePage:o,handleClick:q,setparam:d,handleRowSize:u,handleConfirm:H,sidebarPosition:A,handleFullScreen:F,handleViewClick:O,className:"generic-table item-table"})}),E&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"content_side estimates-content",children:(m==null?void 0:m.estimates)&&e.jsx(ft,{detail:R,refetch:C,loading:P,setFalse:I,setparam:d,data:(B=m==null?void 0:m.estimates)==null?void 0:B.data,handleConfirm:H})})})]})]})}):e.jsxs(e.Fragment,{children:[e.jsx(qe,{enable:!v,noData:!0}),e.jsxs("div",{style:{display:"flex",height:"600px",alignItems:"center",flexDirection:"column",justifyContent:"center"},children:[e.jsx(qs,{}),e.jsx("span",{children:"No data found"}),e.jsx(ke,{type:"link",btnText:"Go Back",clickHandler:L})]})]})}):e.jsx(tt,{})})};export{_a as default};
