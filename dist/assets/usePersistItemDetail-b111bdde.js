import{ch as m,O,r as v,ci as c,cj as J}from"./index-4b3d7bc8.js";const j=(i,N,S=!1)=>{const f=m("once")??!1,s=O("once")??!1,l=m("obj"),r=JSON.parse(O("obj"));v.useMemo(()=>{if(l&&!sessionStorage.length){let e={once:l.once,module_name:"",curr_id:l.curr_id,prev_id:null,next_id:null};c("once",f),c("obj",JSON.stringify(e)),i(!0)}},[f,l,i]);const x=(e=!1,t)=>t==null?void 0:t.find(o=>e?r!=null&&r.prev_id?(r==null?void 0:r.prev_id)===o.payment_no:(r==null?void 0:r.next_id)===o.payment_no:r!=null&&r.prev_id?(r==null?void 0:r.prev_id)===o.id:(r==null?void 0:r.next_id)===o.id);return{handleSessionState:(e,t,g)=>{var o,p,y,_;if((S||f&&!S)&&((o=e==null?void 0:e.data)==null?void 0:o.length)===0&&s&&(sessionStorage.clear(),J("once"),J("obj"),i(!1)),S&&((p=e==null?void 0:e.data)==null?void 0:p.length)!==0&&s){let n={once:!0,module_name:`/${t}`,curr_id:null,prev_id:null,next_id:null};const u=x(g,e==null?void 0:e.data);console.log({obj:u}),u?(n={...n,curr_id:u.id},c("obj",JSON.stringify(n)),localStorage.setItem("obj",JSON.stringify(n))):u||(n={...n,curr_id:g?(y=e==null?void 0:e.data[0])==null?void 0:y.payment_no:(_=e==null?void 0:e.data[0])==null?void 0:_.id},c("obj",JSON.stringify(n)),localStorage.setItem("obj",JSON.stringify(n))),localStorage.setItem("once",JSON.stringify(!0)),c("once",!0),i(!0),N()}}}};export{j as u};
