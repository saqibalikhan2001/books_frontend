import{r as i,bL as D,bl as Y,c as M,bt as xe,ck as he,bq as k,bN as A,bK as ve,bB as Ce,bs as be,a5 as L,g as ye,m as $e,b as je,a as te,bQ as Ne,bR as Se,bY as _e,bP as Ee,bZ as Ie,cl as Pe,cm as Oe,cn as ne,e as Te,i as we,F,G as Re,c6 as Fe,j as a,$ as O,a4 as P,az as oe,c7 as Me,A as V,aA as Le,E as De,al as W,T as B,ak as X,S as Ae,B as q,o as ae,p as Be,l as ke,ab as He,P as ze}from"./index-4b3d7bc8.js";var Ge=i.forwardRef(function(e,t){var o=e.prefixCls,n=e.style,s=e.className,l=e.duration,d=l===void 0?4.5:l,f=e.eventKey,m=e.content,h=e.closable,$=e.closeIcon,p=$===void 0?"x":$,b=e.props,g=e.onClick,C=e.onNoticeClose,I=e.times,E=i.useState(!1),y=D(E,2),S=y[0],N=y[1],j=function(){C(f)},u=function(v){(v.key==="Enter"||v.code==="Enter"||v.keyCode===he.ENTER)&&j()};i.useEffect(function(){if(!S&&d>0){var r=setTimeout(function(){j()},d*1e3);return function(){clearTimeout(r)}}},[d,S,I]);var c="".concat(o,"-notice");return i.createElement("div",Y({},b,{ref:t,className:M(c,s,xe({},"".concat(c,"-closable"),h)),style:n,onMouseEnter:function(){N(!0)},onMouseLeave:function(){N(!1)},onClick:g}),i.createElement("div",{className:"".concat(c,"-content")},m),h&&i.createElement("a",{tabIndex:0,className:"".concat(c,"-close"),onKeyDown:u,onClick:function(v){v.preventDefault(),v.stopPropagation(),j()}},p))});const ie=Ge;var Ke=i.forwardRef(function(e,t){var o=e.prefixCls,n=o===void 0?"rc-notification":o,s=e.container,l=e.motion,d=e.maxCount,f=e.className,m=e.style,h=e.onAllRemoved,$=i.useState([]),p=D($,2),b=p[0],g=p[1],C=function(r){var v,x=b.find(function(_){return _.key===r});x==null||(v=x.onClose)===null||v===void 0||v.call(x),g(function(_){return _.filter(function(R){return R.key!==r})})};i.useImperativeHandle(t,function(){return{open:function(r){g(function(v){var x=k(v),_=x.findIndex(function(K){return K.key===r.key}),R=A({},r);if(_>=0){var w;R.times=(((w=v[_])===null||w===void 0?void 0:w.times)||0)+1,x[_]=R}else R.times=0,x.push(R);return d>0&&x.length>d&&(x=x.slice(-d)),x})},close:function(r){C(r)},destroy:function(){g([])}}});var I=i.useState({}),E=D(I,2),y=E[0],S=E[1];i.useEffect(function(){var c={};b.forEach(function(r){var v=r.placement,x=v===void 0?"topRight":v;x&&(c[x]=c[x]||[],c[x].push(r))}),Object.keys(y).forEach(function(r){c[r]=c[r]||[]}),S(c)},[b]);var N=function(r){S(function(v){var x=A({},v),_=x[r]||[];return _.length||delete x[r],x})},j=i.useRef(!1);if(i.useEffect(function(){Object.keys(y).length>0?j.current=!0:j.current&&(h==null||h(),j.current=!1)},[y]),!s)return null;var u=Object.keys(y);return ve.createPortal(i.createElement(i.Fragment,null,u.map(function(c){var r=y[c],v=r.map(function(_){return{config:_,key:_.key}}),x=typeof l=="function"?l(c):l;return i.createElement(Ce,Y({key:c,className:M(n,"".concat(n,"-").concat(c),f==null?void 0:f(c)),style:m==null?void 0:m(c),keys:v,motionAppear:!0},x,{onAllRemoved:function(){N(c)}}),function(_,R){var w=_.config,K=_.className,ue=_.style,U=w.key,me=w.times,pe=w.className,ge=w.style;return i.createElement(ie,Y({},w,{ref:R,prefixCls:n,className:M(K,pe),style:A(A({},ue),ge),times:me,key:U,eventKey:U,onNoticeClose:C}))})})),s)}),We=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved"],Ye=function(){return document.body},Z=0;function Xe(){for(var e={},t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return o.forEach(function(s){s&&Object.keys(s).forEach(function(l){var d=s[l];d!==void 0&&(e[l]=d)})}),e}function Qe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.getContainer,o=t===void 0?Ye:t,n=e.motion,s=e.prefixCls,l=e.maxCount,d=e.className,f=e.style,m=e.onAllRemoved,h=be(e,We),$=i.useState(),p=D($,2),b=p[0],g=p[1],C=i.useRef(),I=i.createElement(Ke,{container:b,ref:C,prefixCls:s,motion:n,maxCount:l,className:d,style:f,onAllRemoved:m}),E=i.useState([]),y=D(E,2),S=y[0],N=y[1],j=i.useMemo(function(){return{open:function(c){var r=Xe(h,c);(r.key===null||r.key===void 0)&&(r.key="rc-notification-".concat(Z),Z+=1),N(function(v){return[].concat(k(v),[{type:"open",config:r}])})},close:function(c){N(function(r){return[].concat(k(r),[{type:"close",key:c}])})},destroy:function(){N(function(c){return[].concat(k(c),[{type:"destroy"}])})}}},[]);return i.useEffect(function(){g(o())}),i.useEffect(function(){C.current&&S.length&&(S.forEach(function(u){switch(u.type){case"open":C.current.open(u.config);break;case"close":C.current.close(u.key);break;case"destroy":C.current.destroy();break}}),N([]))},[S]),[j,I]}const Ue=e=>{const{componentCls:t,width:o,notificationMarginEdge:n}=e,s=new L("antNotificationTopFadeIn",{"0%":{marginTop:"-100%",opacity:0},"100%":{marginTop:0,opacity:1}}),l=new L("antNotificationBottomFadeIn",{"0%":{marginBottom:"-100%",opacity:0},"100%":{marginBottom:0,opacity:1}}),d=new L("antNotificationLeftFadeIn",{"0%":{right:{_skip_check_:!0,value:o},opacity:0},"100%":{right:{_skip_check_:!0,value:0},opacity:1}});return{[`&${t}-top, &${t}-bottom`]:{marginInline:0},[`&${t}-top`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:s}},[`&${t}-bottom`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:l}},[`&${t}-topLeft, &${t}-bottomLeft`]:{marginInlineEnd:0,marginInlineStart:n,[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:d}}}},Ve=Ue,qe=e=>{const{iconCls:t,componentCls:o,boxShadowSecondary:n,fontSizeLG:s,notificationMarginBottom:l,borderRadiusLG:d,colorSuccess:f,colorInfo:m,colorWarning:h,colorError:$,colorTextHeading:p,notificationBg:b,notificationPadding:g,notificationMarginEdge:C,motionDurationMid:I,motionEaseInOut:E,fontSize:y,lineHeight:S,width:N,notificationIconSize:j}=e,u=`${o}-notice`,c=new L("antNotificationFadeIn",{"0%":{left:{_skip_check_:!0,value:N},opacity:0},"100%":{left:{_skip_check_:!0,value:0},opacity:1}}),r=new L("antNotificationFadeOut",{"0%":{maxHeight:e.animationMaxHeight,marginBottom:l,opacity:1},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[o]:Object.assign(Object.assign(Object.assign(Object.assign({},je(e)),{position:"fixed",zIndex:e.zIndexPopup,marginInlineEnd:C,[`${o}-hook-holder`]:{position:"relative"},[`&${o}-top, &${o}-bottom`]:{[`${o}-notice`]:{marginInline:"auto auto"}},[`&${o}-topLeft, &${o}-bottomLeft`]:{[`${o}-notice`]:{marginInlineEnd:"auto",marginInlineStart:0}},[`${o}-fade-enter, ${o}-fade-appear`]:{animationDuration:e.motionDurationMid,animationTimingFunction:E,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${o}-fade-leave`]:{animationTimingFunction:E,animationFillMode:"both",animationDuration:I,animationPlayState:"paused"},[`${o}-fade-enter${o}-fade-enter-active, ${o}-fade-appear${o}-fade-appear-active`]:{animationName:c,animationPlayState:"running"},[`${o}-fade-leave${o}-fade-leave-active`]:{animationName:r,animationPlayState:"running"}}),Ve(e)),{"&-rtl":{direction:"rtl",[`${o}-notice-btn`]:{float:"left"}}})},{[u]:{position:"relative",width:N,maxWidth:`calc(100vw - ${C*2}px)`,marginBottom:l,marginInlineStart:"auto",padding:g,overflow:"hidden",lineHeight:S,wordWrap:"break-word",background:b,borderRadius:d,boxShadow:n,[`${o}-close-icon`]:{fontSize:y,cursor:"pointer"},[`${u}-message`]:{marginBottom:e.marginXS,color:p,fontSize:s,lineHeight:e.lineHeightLG},[`${u}-description`]:{fontSize:y},[`&${u}-closable ${u}-message`]:{paddingInlineEnd:e.paddingLG},[`${u}-with-icon ${u}-message`]:{marginBottom:e.marginXS,marginInlineStart:e.marginSM+j,fontSize:s},[`${u}-with-icon ${u}-description`]:{marginInlineStart:e.marginSM+j,fontSize:y},[`${u}-icon`]:{position:"absolute",fontSize:j,lineHeight:0,[`&-success${t}`]:{color:f},[`&-info${t}`]:{color:m},[`&-warning${t}`]:{color:h},[`&-error${t}`]:{color:$}},[`${u}-close`]:{position:"absolute",top:e.notificationPaddingVertical,insetInlineEnd:e.notificationPaddingHorizontal,color:e.colorIcon,outline:"none",width:e.notificationCloseButtonSize,height:e.notificationCloseButtonSize,borderRadius:e.borderRadiusSM,transition:`background-color ${e.motionDurationMid}, color ${e.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:e.colorIconHover,backgroundColor:e.wireframe?"transparent":e.colorFillContent}},[`${u}-btn`]:{float:"right",marginTop:e.marginSM}}},{[`${u}-pure-panel`]:{margin:0}}]},se=ye("Notification",e=>{const t=e.paddingMD,o=e.paddingLG,n=$e(e,{notificationBg:e.colorBgElevated,notificationPaddingVertical:t,notificationPaddingHorizontal:o,notificationPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`,notificationMarginBottom:e.margin,notificationMarginEdge:e.marginLG,animationMaxHeight:150,notificationIconSize:e.fontSizeLG*e.lineHeightLG,notificationCloseButtonSize:e.controlHeightLG*.55});return[qe(n)]},e=>({zIndexPopup:e.zIndexPopupBase+50,width:384}));var Ze=globalThis&&globalThis.__rest||function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(o[n[s]]=e[n[s]]);return o};function re(e,t){return t||i.createElement("span",{className:`${e}-close-x`},i.createElement(Ne,{className:`${e}-close-icon`}))}const Je={success:Se,info:_e,error:Ee,warning:Ie};function ce(e){let{prefixCls:t,icon:o,type:n,message:s,description:l,btn:d}=e,f=null;return o?f=i.createElement("span",{className:`${t}-icon`},o):n&&(f=i.createElement(Je[n]||null,{className:M(`${t}-icon`,`${t}-icon-${n}`)})),i.createElement("div",{className:M({[`${t}-with-icon`]:f}),role:"alert"},f,i.createElement("div",{className:`${t}-message`},s),i.createElement("div",{className:`${t}-description`},l),d&&i.createElement("div",{className:`${t}-btn`},d))}function et(e){const{prefixCls:t,className:o,icon:n,type:s,message:l,description:d,btn:f,closable:m=!0,closeIcon:h}=e,$=Ze(e,["prefixCls","className","icon","type","message","description","btn","closable","closeIcon"]),{getPrefixCls:p}=i.useContext(te),b=t||p("notification"),g=`${b}-notice`,[,C]=se(b);return i.createElement(ie,Object.assign({},$,{prefixCls:b,className:M(o,C,`${g}-pure-panel`),eventKey:"pure",duration:null,closable:m,closeIcon:re(b,h),content:i.createElement(ce,{prefixCls:g,icon:n,type:s,message:l,description:d,btn:f})}))}function tt(e,t,o){let n;switch(e){case"top":n={left:"50%",transform:"translateX(-50%)",right:"auto",top:t,bottom:"auto"};break;case"topLeft":n={left:0,top:t,bottom:"auto"};break;case"topRight":n={right:0,top:t,bottom:"auto"};break;case"bottom":n={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:o};break;case"bottomLeft":n={left:0,top:"auto",bottom:o};break;default:n={right:0,top:"auto",bottom:o};break}return n}function nt(e){return{motionName:`${e}-fade`}}var ot=globalThis&&globalThis.__rest||function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(o[n[s]]=e[n[s]]);return o};const J=24,at=4.5,it=i.forwardRef((e,t)=>{const{top:o,bottom:n,prefixCls:s,getContainer:l,maxCount:d,rtl:f,onAllRemoved:m}=e,{getPrefixCls:h,getPopupContainer:$}=i.useContext(te),p=s||h("notification"),b=S=>tt(S,o??J,n??J),[,g]=se(p),C=()=>M(g,{[`${p}-rtl`]:f}),I=()=>nt(p),[E,y]=Qe({prefixCls:p,style:b,className:C,motion:I,closable:!0,closeIcon:re(p),duration:at,getContainer:()=>(l==null?void 0:l())||($==null?void 0:$())||document.body,maxCount:d,onAllRemoved:m});return i.useImperativeHandle(t,()=>Object.assign(Object.assign({},E),{prefixCls:p,hashId:g})),y});function le(e){const t=i.useRef(null);return[i.useMemo(()=>{const n=f=>{if(!t.current)return;const{open:m,prefixCls:h,hashId:$}=t.current,p=`${h}-notice`,{message:b,description:g,icon:C,type:I,placement:E="topRight",btn:y,className:S}=f,N=ot(f,["message","description","icon","type","placement","btn","className"]);return m(Object.assign(Object.assign({},N),{content:i.createElement(ce,{prefixCls:p,icon:C,type:I,message:b,description:g,btn:y}),placement:E,className:M(I&&`${p}-${I}`,$,S)}))},l={open:n,destroy:f=>{var m,h;f!==void 0?(m=t.current)===null||m===void 0||m.close(f):(h=t.current)===null||h===void 0||h.destroy()}};return["success","info","warning","error"].forEach(f=>{l[f]=m=>n(Object.assign(Object.assign({},m),{type:f}))}),l},[]),i.createElement(it,Object.assign({key:"notification-holder"},e,{ref:t}))]}function st(e){return le(e)}let T=null,H=e=>e(),z=[],G={};function rt(){const{prefixCls:e,getContainer:t,rtl:o,maxCount:n,top:s,bottom:l}=G,d=e??ne().getPrefixCls("notification"),f=(t==null?void 0:t())||document.body;return{prefixCls:d,container:f,rtl:o,maxCount:n,top:s,bottom:l}}const ct=i.forwardRef((e,t)=>{const[o,n]=i.useState(),[s,l]=i.useState(),[d,f]=i.useState(),[m,h]=i.useState(),[$,p]=i.useState(),[b,g]=i.useState(),[C,I]=le({prefixCls:o,getContainer:()=>s,maxCount:d,rtl:m,top:$,bottom:b}),E=ne(),y=E.getRootPrefixCls(),S=E.getIconPrefixCls(),N=()=>{const{prefixCls:j,container:u,maxCount:c,rtl:r,top:v,bottom:x}=rt();n(j),l(u),f(c),h(r),p(v),g(x)};return i.useEffect(N,[]),i.useImperativeHandle(t,()=>{const j=Object.assign({},C);return Object.keys(j).forEach(u=>{j[u]=function(){return N(),C[u].apply(C,arguments)}}),{instance:j,sync:N}}),i.createElement(Oe,{prefixCls:y,iconPrefixCls:S},I)});function Q(){if(!T){const e=document.createDocumentFragment(),t={fragment:e};T=t,H(()=>{Pe(i.createElement(ct,{ref:o=>{const{instance:n,sync:s}=o||{};Promise.resolve().then(()=>{!t.instance&&n&&(t.instance=n,t.sync=s,Q())})}}),e)});return}T.instance&&(z.forEach(e=>{switch(e.type){case"open":{H(()=>{T.instance.open(Object.assign(Object.assign({},G),e.config))});break}case"destroy":H(()=>{T==null||T.instance.destroy(e.key)});break}}),z=[])}const lt=["success","info","warning","error"];function ft(e){G=Object.assign(Object.assign({},G),e),H(()=>{var t;(t=T==null?void 0:T.sync)===null||t===void 0||t.call(T)})}function fe(e){z.push({type:"open",config:e}),Q()}function dt(e){z.push({type:"destroy",key:e}),Q()}const ut={open:fe,destroy:dt,config:ft,useNotification:st,_InternalPanelDoNotUseOrYouWillBeFired:et},de=ut;lt.forEach(e=>{de[e]=t=>fe(Object.assign(Object.assign({},t),{type:e}))});const mt=de,{Option:pt}=oe,{TextArea:ee}=X,{CREDIT_NOTES:gt}=ae,{ESTIMATE_CONTACT:xt}=ke,{customer_notes:ht,terms_and_conditions:vt,select_salesperson:Ct}=Be,bt=Te(new Date),yt={name:"",reference:"",adjustment:0,customer_id:null,customer_note:"",shipping_charge:0,credit_note_date:bt},$t=({onSubmit:e,loading:t})=>{const o=we(),[n]=F.useForm(),{bool:s,setTrue:l,setFalse:d}=Re(!0),{fetching:f,options:m,hasContentLoading:h,handleScroll:$}=Fe(xt,!0),p=()=>d(),b=()=>{n.resetFields(),l()};return a.jsx(a.Fragment,{children:a.jsxs(F,{name:"item-form",autoComplete:"off",form:n,onFinish:e,initialValues:yt,children:[a.jsx(O,{children:a.jsx(P,{span:7,offset:1,children:a.jsx(F.Item,{name:"customer_id",label:"Customer Name",className:"flex_root",children:a.jsx(oe,{loading:f,placeholder:Ct,onPopupScroll:$,onChange:p,onClear:()=>n.resetFields(),allowClear:!0,onDeselect:b,dropdownRender:g=>a.jsxs(a.Fragment,{children:[g,h&&a.jsx(Me,{size:"small",style:{padding:"0 12px"}})]}),children:m.map(g=>a.jsx(pt,{value:g.value,children:g.label},`option-${g.value}`))})})})}),a.jsxs("div",{className:s?"hide":"display",children:[a.jsxs(O,{children:[a.jsx(P,{span:4,offset:1,children:a.jsx(V,{name:"credit_note_no",size:"middle",label:"Credit Note#",rules:[],disabled:!0,colon:!1})}),a.jsx(P,{span:4,offset:1,children:a.jsx(V,{name:"reference",size:"middle",label:"Reference#"})})]}),a.jsx(O,{children:a.jsx(P,{span:4,offset:1,children:a.jsx(F.Item,{name:"credit_note_date",label:"Credit Note Date",className:"flex_root",children:a.jsx(Le,{name:"credit_note_date",format:"YYYY-MM-DD"})})})}),a.jsx(O,{children:a.jsx(P,{span:6,offset:1,children:a.jsx(De,{label:"Salesperson",name:"sales_person_id",className:"flex_root",rules:[],options:[],loading:!1,placeholder:"Select or Add Salesperson"})})}),a.jsx(W,{}),a.jsxs(O,{children:[a.jsx(P,{span:8,offset:1,children:a.jsx(F.Item,{label:"Customer Notes",name:"customer_note",className:"mb flex_root",children:a.jsx(ee,{rows:1,placeholder:ht})})}),a.jsxs(P,{span:8,offset:4,children:[a.jsxs(O,{children:[a.jsx(P,{children:a.jsx(B.Title,{level:5,children:"Sub Total"})}),a.jsx(P,{offset:14,children:a.jsxs(B.Title,{level:5,children:["$",0]})})]}),a.jsx(O,{children:a.jsx(P,{children:a.jsx(F.Item,{label:"Adjustment",name:"adjustment",colon:!1,children:a.jsx(X,{name:"adjustment",type:"number",value:0,placeholder:"$0.00",size:"small",style:{marginLeft:"110px",width:"50%"}})})})}),a.jsx(O,{children:a.jsx(P,{children:a.jsx(F.Item,{label:"Shipping Charges",name:"shipping_charge",colon:!1,children:a.jsx(X,{name:"shipping_charge",type:"number",value:0,size:"small",placeholder:"$0.00",style:{marginLeft:"70px",width:"60%"}})})})})]})]}),a.jsx(W,{}),a.jsxs(O,{children:[a.jsx(P,{offset:13,children:a.jsx(B.Title,{level:4,children:"Total"})}),a.jsx(P,{offset:5,children:a.jsxs(B.Title,{level:4,children:["$",0]})})]}),a.jsx(W,{}),a.jsx(O,{children:a.jsx(P,{span:10,offset:1,children:a.jsx(F.Item,{label:"Terms & Conditions",name:"terms_and_condition",className:"flex_root",children:a.jsx(ee,{rows:4,name:"terms_and_condition",placeholder:vt})})})}),a.jsx(O,{children:a.jsx(P,{children:a.jsxs(Ae,{children:[a.jsx(q,{btnText:"Save",wrapperCol:{offset:10},loading:t}),a.jsx(q,{type:"default",btnText:"Cancel",wrapperCol:{offset:10},htmlType:"button",clickHandler:()=>o(gt)})]})})})]})]})})},{CREDIT_NOTES:jt}=ae,St=()=>{const[e]=He(),t=o=>{console.log(o),mt.info({message:"This modules is still in progress",description:"Waiting for Api response from backend",placement:"top"})};return a.jsxs(a.Fragment,{children:[a.jsx(ze,{title:"Create Credit Note",navigateTo:jt}),a.jsx($t,{loading:e,onSubmit:t})]})};export{St as default};
