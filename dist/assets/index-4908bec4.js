import{r as m,bs as Pe,bH as Me,bL as $e,c as Ee,bt as ne,bl as Te,ck as ie,g as Fe,m as Le,bE as ze,b as De,cu as Re,a as Ae,cv as Oe,bG as He,cw as Ve,L as Ge,bk as ke,F as c,i as z,u as T,G as $,aD as Ye,j as e,y as C,a2 as I,n as g,E,p as G,H as B,ak as Y,B as N,I as se,T as v,l as S,h as P,e as ae,R as p,bU as te,az as le,A as R,U as Be,aA as Ue,am as We,C as ce,D as Ke,s as ee,cx as qe,aw as w,cy as Xe}from"./index-4b3d7bc8.js";import{u as F}from"./usePermissions-36032956.js";import{m as Qe}from"./index-76e73ee7.js";import{u as Ze}from"./useListing-af775608.js";/* empty css                       */import{u as Je}from"./useTabs-bacf39f5.js";import{A as es}from"./AccessDenied-45b92511.js";import"./useSearchParam-ebfda256.js";var ss=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],Ce=m.forwardRef(function(s,n){var a,d=s.prefixCls,i=d===void 0?"rc-switch":d,u=s.className,x=s.checked,j=s.defaultChecked,h=s.disabled,f=s.loadingIcon,t=s.checkedChildren,l=s.unCheckedChildren,r=s.onClick,o=s.onChange,b=s.onKeyDown,_=Pe(s,ss),L=Me(!1,{value:x,defaultValue:j}),y=$e(L,2),D=y[0],H=y[1];function A(M,V){var q=D;return h||(q=M,H(q),o==null||o(q,V)),q}function U(M){M.which===ie.LEFT?A(!1,M):M.which===ie.RIGHT&&A(!0,M),b==null||b(M)}function W(M){var V=A(!D,M);r==null||r(V,M)}var K=Ee(i,u,(a={},ne(a,"".concat(i,"-checked"),D),ne(a,"".concat(i,"-disabled"),h),a));return m.createElement("button",Te({},_,{type:"button",role:"switch","aria-checked":D,disabled:h,className:K,ref:n,onKeyDown:U,onClick:W}),f,m.createElement("span",{className:"".concat(i,"-inner")},m.createElement("span",{className:"".concat(i,"-inner-checked")},t),m.createElement("span",{className:"".concat(i,"-inner-unchecked")},l)))});Ce.displayName="Switch";const as=s=>{const{componentCls:n}=s,a=`${n}-inner`;return{[n]:{[`&${n}-small`]:{minWidth:s.switchMinWidthSM,height:s.switchHeightSM,lineHeight:`${s.switchHeightSM}px`,[`${n}-inner`]:{paddingInlineStart:s.switchInnerMarginMaxSM,paddingInlineEnd:s.switchInnerMarginMinSM,[`${a}-checked`]:{marginInlineStart:`calc(-100% + ${s.switchPinSizeSM+s.switchPadding*2}px - ${s.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(100% - ${s.switchPinSizeSM+s.switchPadding*2}px + ${s.switchInnerMarginMaxSM*2}px)`},[`${a}-unchecked`]:{marginTop:-s.switchHeightSM,marginInlineStart:0,marginInlineEnd:0}},[`${n}-handle`]:{width:s.switchPinSizeSM,height:s.switchPinSizeSM},[`${n}-loading-icon`]:{top:(s.switchPinSizeSM-s.switchLoadingIconSize)/2,fontSize:s.switchLoadingIconSize},[`&${n}-checked`]:{[`${n}-inner`]:{paddingInlineStart:s.switchInnerMarginMinSM,paddingInlineEnd:s.switchInnerMarginMaxSM,[`${a}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${a}-unchecked`]:{marginInlineStart:`calc(100% - ${s.switchPinSizeSM+s.switchPadding*2}px + ${s.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(-100% + ${s.switchPinSizeSM+s.switchPadding*2}px - ${s.switchInnerMarginMaxSM*2}px)`}},[`${n}-handle`]:{insetInlineStart:`calc(100% - ${s.switchPinSizeSM+s.switchPadding}px)`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${a}`]:{[`${a}-unchecked`]:{marginInlineStart:s.marginXXS/2,marginInlineEnd:-s.marginXXS/2}},[`&${n}-checked ${a}`]:{[`${a}-checked`]:{marginInlineStart:-s.marginXXS/2,marginInlineEnd:s.marginXXS/2}}}}}}},ns=s=>{const{componentCls:n}=s;return{[n]:{[`${n}-loading-icon${s.iconCls}`]:{position:"relative",top:(s.switchPinSize-s.fontSize)/2,color:s.switchLoadingIconColor,verticalAlign:"top"},[`&${n}-checked ${n}-loading-icon`]:{color:s.switchColor}}}},is=s=>{const{componentCls:n}=s,a=`${n}-handle`;return{[n]:{[a]:{position:"absolute",top:s.switchPadding,insetInlineStart:s.switchPadding,width:s.switchPinSize,height:s.switchPinSize,transition:`all ${s.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:s.colorWhite,borderRadius:s.switchPinSize/2,boxShadow:s.switchHandleShadow,transition:`all ${s.switchDuration} ease-in-out`,content:'""'}},[`&${n}-checked ${a}`]:{insetInlineStart:`calc(100% - ${s.switchPinSize+s.switchPadding}px)`},[`&:not(${n}-disabled):active`]:{[`${a}::before`]:{insetInlineEnd:s.switchHandleActiveInset,insetInlineStart:0},[`&${n}-checked ${a}::before`]:{insetInlineEnd:0,insetInlineStart:s.switchHandleActiveInset}}}}},ts=s=>{const{componentCls:n}=s,a=`${n}-inner`;return{[n]:{[a]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:s.switchInnerMarginMax,paddingInlineEnd:s.switchInnerMarginMin,transition:`padding-inline-start ${s.switchDuration} ease-in-out, padding-inline-end ${s.switchDuration} ease-in-out`,[`${a}-checked, ${a}-unchecked`]:{display:"block",color:s.colorTextLightSolid,fontSize:s.fontSizeSM,transition:`margin-inline-start ${s.switchDuration} ease-in-out, margin-inline-end ${s.switchDuration} ease-in-out`,pointerEvents:"none"},[`${a}-checked`]:{marginInlineStart:`calc(-100% + ${s.switchPinSize+s.switchPadding*2}px - ${s.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(100% - ${s.switchPinSize+s.switchPadding*2}px + ${s.switchInnerMarginMax*2}px)`},[`${a}-unchecked`]:{marginTop:-s.switchHeight,marginInlineStart:0,marginInlineEnd:0}},[`&${n}-checked ${a}`]:{paddingInlineStart:s.switchInnerMarginMin,paddingInlineEnd:s.switchInnerMarginMax,[`${a}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${a}-unchecked`]:{marginInlineStart:`calc(100% - ${s.switchPinSize+s.switchPadding*2}px + ${s.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(-100% + ${s.switchPinSize+s.switchPadding*2}px - ${s.switchInnerMarginMax*2}px)`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${a}`]:{[`${a}-unchecked`]:{marginInlineStart:s.switchPadding*2,marginInlineEnd:-s.switchPadding*2}},[`&${n}-checked ${a}`]:{[`${a}-checked`]:{marginInlineStart:-s.switchPadding*2,marginInlineEnd:s.switchPadding*2}}}}}},ls=s=>{const{componentCls:n}=s;return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},De(s)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:s.switchMinWidth,height:s.switchHeight,lineHeight:`${s.switchHeight}px`,verticalAlign:"middle",background:s.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${s.motionDurationMid}`,userSelect:"none",[`&:hover:not(${n}-disabled)`]:{background:s.colorTextTertiary}}),Re(s)),{[`&${n}-checked`]:{background:s.switchColor,[`&:hover:not(${n}-disabled)`]:{background:s.colorPrimaryHover}},[`&${n}-loading, &${n}-disabled`]:{cursor:"not-allowed",opacity:s.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${n}-rtl`]:{direction:"rtl"}})}},cs=Fe("Switch",s=>{const n=s.fontSize*s.lineHeight,a=s.controlHeight/2,d=2,i=n-d*2,u=a-d*2,x=Le(s,{switchMinWidth:i*2+d*4,switchHeight:n,switchDuration:s.motionDurationMid,switchColor:s.colorPrimary,switchDisabledOpacity:s.opacityLoading,switchInnerMarginMin:i/2,switchInnerMarginMax:i+d+d*2,switchPadding:d,switchPinSize:i,switchBg:s.colorBgContainer,switchMinWidthSM:u*2+d*2,switchHeightSM:a,switchInnerMarginMinSM:u/2,switchInnerMarginMaxSM:u+d+d*2,switchPinSizeSM:u,switchHandleShadow:`0 2px 4px 0 ${new ze("#00230b").setAlpha(.2).toRgbString()}`,switchLoadingIconSize:s.fontSizeIcon*.75,switchLoadingIconColor:`rgba(0, 0, 0, ${s.opacityLoading})`,switchHandleActiveInset:"-30%"});return[ls(x),ts(x),is(x),ns(x),as(x)]});var rs=globalThis&&globalThis.__rest||function(s,n){var a={};for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&n.indexOf(d)<0&&(a[d]=s[d]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,d=Object.getOwnPropertySymbols(s);i<d.length;i++)n.indexOf(d[i])<0&&Object.prototype.propertyIsEnumerable.call(s,d[i])&&(a[d[i]]=s[d[i]]);return a};const Ie=m.forwardRef((s,n)=>{var{prefixCls:a,size:d,disabled:i,loading:u,className:x=""}=s,j=rs(s,["prefixCls","size","disabled","loading","className"]);const{getPrefixCls:h,direction:f}=m.useContext(Ae),t=m.useContext(Oe),l=m.useContext(He),r=(i??l)||u,o=h("switch",a),b=m.createElement("div",{className:`${o}-handle`},u&&m.createElement(Ge,{className:`${o}-loading-icon`})),[_,L]=cs(o),y=Ee({[`${o}-small`]:(d||t)==="small",[`${o}-loading`]:u,[`${o}-rtl`]:f==="rtl"},x,L);return _(m.createElement(Ve,null,m.createElement(Ce,Object.assign({},j,{prefixCls:o,className:y,disabled:r,ref:n,loadingIcon:b}))))});Ie.__ANT_SWITCH=!0;const k=Ie;var os={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"};const ds=os;var ms=function(n,a){return m.createElement(ke,Te({},n,{ref:a,icon:ds}))};const hs=m.forwardRef(ms),{RiQuestionFill:xs}=se,{Title:us,Text:Q}=v,{BILL_PREFERENCE:re}=S,bs={terms:"",is_billable:!1,payment_terms_id:null,bill_no_notification:!1},fs=()=>{const[s]=c.useForm(),n=z(),{callAxios:a}=T(),{bool:d,toggle:i}=$(),{checkPermission:u}=F(),[x,j]=m.useState(!0),{data:h=[],isLoading:f}=Ye(""),{has_PreferenceEdit_permission:t}=u("PreferenceEdit");m.useLayoutEffect(()=>{a({url:re}).then(r=>{var o;j(!1),s.setFieldsValue({...r.preferences,payment_terms_id:h!=null&&h.find(b=>{var _;return((_=r==null?void 0:r.preferences)==null?void 0:_.payment_terms_id)===(b==null?void 0:b.id)})?(o=r==null?void 0:r.preferences)==null?void 0:o.payment_terms_id:null,terms:(r==null?void 0:r.terms)||""})})},[a,h]);const l=r=>{var b;const o={status:{is_billable:r.is_billable,payment_terms_id:r.payment_terms_id,bill_no_notification:r.bill_no_notification,payment_terms_name:(b=h.find(_=>_.id===r.payment_terms_id))==null?void 0:b.name},terms:r.terms};i(),a({method:"put",url:re,data:o}).then(_=>{i(),_&&P({message:(_==null?void 0:_.message)||""})}).catch(()=>i())};return e.jsx(e.Fragment,{children:x?e.jsx(C,{}):e.jsxs("div",{className:"main_wrapper",children:[e.jsx(I,{name:"Bill",setting:!0}),e.jsx("div",{className:"_container",children:e.jsxs(c,{form:s,layout:"vertical",onFinish:l,initialValues:bs,children:[e.jsx(us,{level:4,className:"form_heading",children:g.TERMS_AND_CONDITIONS}),e.jsxs("div",{className:"form_box",children:[e.jsx("div",{className:"flexbox form-row-container  justify-content-between",children:e.jsx("div",{className:"form_group flex-47 mb-30",children:e.jsx(E,{size:"large",options:h,loading:f,className:"input_field",name:"payment_terms_id",placeholder:g.PAYMENT_TERM_ID_PLACEHOLDER,label:e.jsx("label",{children:g.DEFAULT_BILL_PAYMENT_TERMS})})})}),e.jsxs("div",{className:"switch_group bill-tab",children:[e.jsx(Q,{className:"switch-label",children:G.prefernece_bill_number_warning}),e.jsx(c.Item,{valuePropName:"checked",className:"switch-handle",name:"bill_no_notification",children:e.jsx(k,{className:"switch-btn"})})]}),e.jsxs("div",{className:"switch_group bill-tab",children:[e.jsxs("div",{className:"align_label",children:[e.jsx(Q,{className:"switch-label",children:G.make_expense_and_item_billable}),e.jsx(B,{title:G.expense_and_item_billable_tooltip,children:e.jsx(xs,{})})]}),e.jsx(c.Item,{name:"is_billable",valuePropName:"checked",className:"switch-handle",children:e.jsx(k,{className:"switch-btn"})})]}),e.jsx("div",{className:"flexbox form-row-container  justify-content-between",children:e.jsxs("div",{className:"form_group flex-47 mb-40",children:[e.jsx(Q,{className:"switch-label",children:G.term_and_condition_to_be_displayed}),e.jsx(c.Item,{name:"terms",children:e.jsx(Y.TextArea,{showCount:!0,rows:4,maxLength:1e3})})]})}),t?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"button_flexbox",children:[e.jsx(N,{type:"default",btnText:"Cancel",htmlType:"button",clickHandler:()=>n(-1),className:"btn-form-size btn-default mr-20"}),e.jsx(N,{btnText:"Save",loading:d,className:"btn-form-size btn-primary"})]})}):null]})]})})]})})},{Title:oe}=v,{GENERAL_PREFERENCE:de}=S,js=ae(new Date),gs=()=>{const[s]=c.useForm(),n=z(),{callAxios:a}=T(),{bool:d,toggle:i}=$(),{currncy_list:u}=Ze(),{checkPermission:x}=F(),[j,h]=m.useState(!1),[f,t]=m.useState(!0),{has_PreferenceEdit_permission:l}=x("PreferenceEdit"),[r,o]=m.useState();m.useLayoutEffect(()=>{a({url:de}).then(_=>{t(!1),h(_.disabled_currency),o(_.currency.global_currency_id),s.setFieldsValue({..._,date_format:`MMM,DD YY [${js.format("MMM,DD YY")}]`,currency_id:_.currency.global_currency_id})})},[a]);const b=_=>{const L={..._,date_format:"long6",currency_updated:r!==_.currency_id};i(),a({method:"put",url:de,data:L}).then(y=>{i(),y&&P({message:(y==null?void 0:y.message)||""})}).catch(()=>i())};return e.jsx(e.Fragment,{children:f?e.jsx(C,{}):e.jsxs("div",{className:"main_wrapper",children:[e.jsx(I,{name:"General",setting:!0}),e.jsx("div",{className:"_container",children:e.jsxs(c,{form:s,onFinish:b,layout:"vertical",children:[e.jsx(oe,{level:4,className:"form_heading",children:"Time & Date"}),e.jsx("div",{className:"form_box",children:e.jsxs("div",{className:"flexbox  form-row-container justify-content-between",children:[e.jsx("div",{className:"form_group flex-47 mb-30",children:e.jsx(E,{placeholder:"Select time zone",name:"time_zone",className:"input_field",options:Qe.tz.names(),label:e.jsx("label",{children:g.TIMEZONE}),size:"large"})}),e.jsx("div",{className:"form_group flex-47 mb-30",children:e.jsx(E,{disabled:!0,className:"input_field",name:"date_format",placeholder:"Select date format",label:e.jsx("label",{children:"Date Format"}),size:"large"})})]})}),e.jsx(oe,{level:4,className:"form_heading",children:"Currency"}),e.jsxs("div",{className:"form_box",children:[e.jsx("div",{className:"flexbox  form-row-container justify-content-between mb-15",children:e.jsx("div",{className:"form_group flex-47 mb-30",children:e.jsx(E,{size:"large",name:"currency_id",className:"input_field",options:u,disabled:j,placeholder:"Select currency",label:e.jsx("label",{children:g.BASE_CURRENCY})})})}),l?e.jsxs("div",{className:"button_flexbox",children:[e.jsx(N,{btnText:"Cancel",htmlType:"button",className:"btn-default btn-form-size mr-20",clickHandler:()=>n(-1)}),e.jsx(N,{btnText:"Save",className:"btn-primary btn-form-size",loading:d})]}):null]})]})})]})})},{Text:ps}=v,{INVOICE_PREFERENCE:me}=S,_s={terms:""},vs=()=>{const[s]=c.useForm(),n=z(),{callAxios:a}=T(),{bool:d,toggle:i}=$(),{checkPermission:u}=F(),[x,j]=m.useState(!0),{has_PreferenceEdit_permission:h}=u("PreferenceEdit");m.useLayoutEffect(()=>{a({url:me}).then(t=>{j(!1),s.setFieldsValue({terms:(t==null?void 0:t.terms)||""})})},[a]);const f=t=>{i(),a({method:"put",url:me,data:{status:{email_notification:"once"},...t}}).then(l=>{i(),l&&P({message:(l==null?void 0:l.message)||""})}).catch(()=>i())};return e.jsx(e.Fragment,{children:x?e.jsx(C,{}):e.jsxs("div",{className:"main_wrapper",children:[e.jsx(I,{name:"Invoice & Sale receipt",setting:!0}),e.jsx("div",{className:"_container",children:e.jsxs(c,{form:s,initialValues:_s,onFinish:f,children:[e.jsx("div",{className:"flexbox form-row-container  justify-content-between invoice-form-container",children:e.jsxs("div",{className:"form_group flex-47 mb-10",children:[e.jsx(ps,{className:"switch-label mb-10",children:"Terms and conditions to be displayed on invoice"}),e.jsx(c.Item,{name:"terms",children:e.jsx(Y.TextArea,{showCount:!0,rows:4,maxLength:1e3})})]})}),h?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"button_flexbox",children:[e.jsx(N,{btnText:"Cancel",type:"default",htmlType:"button",className:"btn-form-size btn-default mr-20",clickHandler:()=>n(-1)}),e.jsx(N,{btnText:"Save",className:"btn-form-size btn-primary",loading:d})]})}):null]})})]})})},{Title:Z,Text:X}=v,{ESTIMATE_PREFERENCE:he}=S,Ns={terms:"",estimate_to_invoice_status:"",estimate_to_saleorders_status:"",E_time:1,E_duration:"day",time:1,duration:"day"},xe=[{label:"Day (s)",value:"day"},{label:"Week (s)",value:"week"},{label:"Month (s)",value:"month"},{label:"Year (s)",value:"year"}],ys=()=>{const[s]=c.useForm(),n=z(),{callAxios:a}=T(),{bool:d,toggle:i}=$(),{checkPermission:u}=F(),[x,j]=m.useState(!0),{has_PreferenceEdit_permission:h}=u("PreferenceEdit");m.useLayoutEffect(()=>{a({url:he}).then(t=>{var o,b,_,L,y,D,H,A;j(!1);const{preferences:l={},terms:r=""}=t||{};s.setFieldsValue({...l,terms:r,E_time:Number(((b=(o=l.maximum_estimate_age)==null?void 0:o.split(" "))==null?void 0:b[0])||1),E_duration:((L=(_=l.maximum_estimate_age)==null?void 0:_.split(" "))==null?void 0:L[1])||"day",time:Number(((D=(y=l.estimate_expiry_age)==null?void 0:y.split(" "))==null?void 0:D[0])||1),duration:((A=(H=l.estimate_expiry_age)==null?void 0:H.split(" "))==null?void 0:A[1])||"day"})})},[]);const f=t=>{let l={status:{estimate_to_invoice_status:t==null?void 0:t.estimate_to_invoice_status,estimate_to_saleorders_status:t==null?void 0:t.estimate_to_saleorders_status,maximum_estimate_age:`${t==null?void 0:t.E_time} ${t.E_duration}`,estimate_expiry_age:`${t==null?void 0:t.time} ${t.duration}`},terms:t.terms};i(),a({method:"put",url:he,data:l}).then(r=>{i(),r&&P({message:(r==null?void 0:r.message)||""})}).catch(()=>i())};return e.jsx(e.Fragment,{children:x?e.jsx(C,{}):e.jsxs("div",{className:"main_wrapper",children:[e.jsx(I,{name:"Estimate",setting:!0}),e.jsx("div",{className:"_container",children:e.jsxs(c,{form:s,initialValues:Ns,onFinish:f,children:[e.jsx(Z,{className:"form_heading",level:4,children:"Automatically convert an estimate to invoice ?"}),e.jsx("div",{className:"form_box mb-30",children:e.jsx(c.Item,{name:"estimate_to_invoice_status",rules:[{required:!0,message:"Please pick an Option"}],children:e.jsxs(p.Group,{className:"mb-25",children:[e.jsx("div",{className:"radio_group",children:e.jsx(p,{value:"no",children:"No"})}),e.jsx("div",{className:"radio_group",children:e.jsxs(p,{value:"draft",children:["Yes. Create Invoice as Draft","    ",e.jsx(X,{type:"secondary",children:"(Invoice will be saved as a draft.)"})]})}),e.jsx("div",{className:"radio_group",children:e.jsxs(p,{value:"send",children:["Yes. Create and Send","    ",e.jsx(X,{type:"secondary",children:"(Invoice will be sent to your customer.)"})]})})]})})}),e.jsx(Z,{className:"form_heading",level:4,children:"Automatically convert an estimate to SaleOrder ?"}),e.jsxs("div",{className:"form_box mb-30",children:[e.jsx(c.Item,{name:"estimate_to_saleorders_status",rules:[{required:!0,message:"Please pick an Option"}],children:e.jsxs(p.Group,{className:"mb-25",children:[e.jsx("div",{className:"radio_group",children:e.jsx(p,{value:"no",children:"No"})}),e.jsx("div",{className:"radio_group",children:e.jsxs(p,{value:"draft",children:["Yes. Create SaleOrder as Draft","    ",e.jsx(X,{type:"secondary",children:"(SaleOrder will be saved as a draft.)"})]})}),e.jsx("div",{className:"radio_group",children:e.jsxs(p,{value:"send",children:["Yes. Create and Send","    ",e.jsx(X,{type:"secondary",children:"(SaleOrder will be sent to your customer.)"})]})})]})}),e.jsxs("div",{className:"d-flex",children:[e.jsxs("label",{className:"mt-10",children:[e.jsx("b",{children:"Duration after Accepted estimate will be expired: "}),"  "]}),e.jsx(c.Item,{name:"E_time",children:e.jsx(te,{defaultValue:1,controls:!1,min:1,size:"large",className:"mb-18"})}),e.jsx("div",{style:{width:"20%"},children:e.jsx(c.Item,{name:"E_duration",children:e.jsx(le,{size:"large",allowClear:!1,defaultValue:"day",className:"mb-18",options:xe})})})]}),e.jsxs("div",{className:"d-flex",children:[e.jsxs("label",{className:"mt-10",children:[e.jsx("b",{children:" Minimum expiration Time: "}),"  "]}),e.jsx(c.Item,{name:"time",children:e.jsx(te,{defaultValue:1,controls:!1,min:1,size:"large",className:"mb-18"})}),e.jsx("div",{style:{width:"20%"},children:e.jsx(c.Item,{name:"duration",children:e.jsx(le,{size:"large",allowClear:!1,defaultValue:"day",className:"mb-18",options:xe})})})]})]}),e.jsx(Z,{level:4,className:"form_heading",children:"Terms & Conditions"}),e.jsxs("div",{className:"form_box",children:[e.jsx("div",{className:"flexbox  form-row-container  justify-content-between",children:e.jsx("div",{className:"form_group flex-47 mb-18",children:e.jsx(c.Item,{name:"terms",children:e.jsx(Y.TextArea,{showCount:!0,rows:4,maxLength:1e3})})})}),h?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"button_flexbox",children:[e.jsx(N,{btnText:"Cancel",type:"default",htmlType:"button",className:"btn-form-size btn-default mr-20",clickHandler:()=>n(-1)}),e.jsx(N,{btnText:"Save",loading:d,className:"btn-form-size btn-primary"})]})}):null]})]})})]})})},{AiFillQuestionCircle:ue}=se,{NUMBER_PREFERENCES:be,ALL:fe}=S,ws=()=>{const[s]=c.useForm(),n=z(),{callAxios:a}=T(),{bool:d,toggle:i}=$(),{checkPermission:u}=F(),[x,j]=m.useState(!0),{has_PreferenceEdit_permission:h}=u("PreferenceEdit");m.useLayoutEffect(()=>{a({url:`${be}${fe}`}).then(t=>{var D,H,A,U,W,K,M,V;j(!1);const{sku_preference:l={},bill_preference:r={},invoice_preference:o={},estimates_preference:b={},sales_order_preference:_={},credit_note_preference:L={},purchase_order_preference:y={}}=t||{};s.setFieldsValue({soFormat:(D=_==null?void 0:_.preferences)==null?void 0:D.soFormat,poFormat:(H=y==null?void 0:y.preferences)==null?void 0:H.poFormat,invFormat:(A=o==null?void 0:o.preferences)==null?void 0:A.invFormat,blFormat:(U=r==null?void 0:r.preferences)==null?void 0:U.blFormat,crFormat:(W=L==null?void 0:L.preferences)==null?void 0:W.crFormat,estFormat:(K=b==null?void 0:b.preferences)==null?void 0:K.estFormat,skuTerms:l==null?void 0:l.terms,skuFormat:(M=l==null?void 0:l.preferences)==null?void 0:M.skuFormat,startFrom:(V=l==null?void 0:l.preferences)==null?void 0:V.startFrom})})},[]);const f=t=>{i(),a({method:"put",url:`${be}${fe}`,data:{...t}}).then(l=>{i(),l&&P({message:(l==null?void 0:l.message)||""})}).catch(()=>i())};return e.jsx(e.Fragment,{children:x?e.jsx(C,{}):e.jsxs("div",{className:"main_wrapper",children:[e.jsx(I,{name:"Prefixes",setting:!0}),e.jsxs("div",{className:"_container",children:[e.jsx(v.Title,{level:4,className:"form_heading",children:"Prefixes"}),e.jsxs(c,{form:s,layout:"vertical",onFinish:f,children:[e.jsx("div",{className:"form_box",children:e.jsxs("div",{className:"flexbox form-row-sm-container justify-content-between",children:[e.jsx("div",{className:"form_group flex-46 mb-30",children:e.jsx(R,{type:"text",size:"middle",name:"soFormat",className:"input_field",label:e.jsx("label",{children:"Sales order prefix"})})}),e.jsx("div",{className:"form_group flex-46 mb-30",children:e.jsx(R,{type:"text",size:"middle",className:"input_field",name:"poFormat",label:e.jsx("label",{children:"Purchase order prefix"})})}),e.jsx("div",{className:"form_group flex-46 mb-30",children:e.jsx(R,{type:"text",size:"middle",className:"input_field",name:"invFormat",label:e.jsx("label",{children:"Invoice prefix"})})}),e.jsx("div",{className:"form_group flex-46 mb-30",children:e.jsx(R,{type:"text",size:"middle",name:"blFormat",className:"input_field",label:e.jsx("label",{children:"Bill prefix"})})}),e.jsx("div",{className:"form_group flex-46 mb-30",children:e.jsx(R,{type:"text",size:"middle",className:"input_field",name:"crFormat",label:e.jsx("label",{children:"Credit note prefix"})})}),e.jsx("div",{className:"form_group flex-46 mb-30",children:e.jsx(R,{type:"text",size:"middle",className:"input_field",name:"estFormat",label:e.jsx("label",{children:"Debit note prefix"})})})]})}),e.jsx(v.Title,{level:4,className:"form_heading",children:"SKU"}),e.jsx("div",{className:"form_box",children:e.jsxs("div",{className:"flexbox form-row-sm-container justify-content-between flex-column",children:[e.jsx(c.Item,{colon:!1,name:"skuTerms",labelAlign:"left",label:e.jsx("label",{children:"SKU"}),children:e.jsxs(p.Group,{defaultValue:"auto",children:[e.jsxs("div",{className:"radio_group",children:[e.jsx(p,{value:"auto",children:"Auto generate SKU Number"}),e.jsx(B,{title:" This option will auto generate the SKU.You can als provide the a prefix but that is option.",children:e.jsx(ue,{size:16})})]}),e.jsxs("div",{className:"radio_group",children:[e.jsx(p,{value:"manual",children:"Continue from Last SKU Number"}),e.jsx(B,{title:"The SKU on your new products will be generated by incrementing the latest SKU in your products list. This option is bes suitable when importing products list to Seebiz Books",children:e.jsx(ue,{size:16})})]})]})}),e.jsxs("div",{className:"lexbox form-row-sm-container justify-content-between d-flex mb-15",children:[e.jsx("div",{className:"form_group flex-46 mb-30",children:e.jsx(R,{type:"text",size:"middle",name:"skuFormat",className:"input_field",label:e.jsx("label",{children:"SKU Prefix"})})}),e.jsx("div",{className:"form_group flex-46 mb-30",children:e.jsx(R,{disabled:!0,type:"text",size:"middle",name:"startFrom",className:"input_field",label:e.jsx("label",{children:"SKU Start From"})})})]}),h?e.jsxs("div",{className:"button_flexbox",children:[e.jsx(N,{btnText:"Cancel",type:"default",htmlType:"button",className:"btn-form-size btn-default mr-20",clickHandler:()=>n(-1)}),e.jsx(N,{btnText:"Save",className:"btn-form-size btn-primary",loading:d})]}):null]})})]})]})]})})},{Text:je}=v,{PREFERENCES:ge,PDF_SETTINGS:pe}=S,Ss=()=>{const[s]=c.useForm(),n=z(),{callAxios:a}=T(),{bool:d,toggle:i}=$(),{checkPermission:u}=F(),[x,j]=m.useState(!0),{has_PreferenceEdit_permission:h}=u("PreferenceEdit");m.useLayoutEffect(()=>{a({url:`${ge}${pe}`}).then(t=>{j(!1);const{preferences:l={}}=t||{};s.setFieldsValue({...l})})},[]);const f=t=>{i(),a({method:"put",url:`${ge}${pe}`,data:{status:{...t}}}).then(l=>{i(),l&&P({message:(l==null?void 0:l.message)||""})}).catch(()=>i())};return e.jsx(e.Fragment,{children:x?e.jsx(C,{}):e.jsxs("div",{className:"main_wrapper",children:[e.jsx(I,{name:"Prints and PDF",setting:!0}),e.jsxs("div",{className:"_container",children:[e.jsx(v.Title,{level:4,className:"form_heading",children:"Prints and PDF"}),e.jsx("div",{className:"form_box",children:e.jsxs(c,{form:s,layout:"vertical",onFinish:f,children:[e.jsxs("div",{className:"switch_group mb-20",children:[e.jsx(je,{className:"switch-label",children:"Display license number in prints and PDF?"}),e.jsx(c.Item,{name:"license_no",valuePropName:"checked",className:"switch-handle",children:e.jsx(k,{className:"switch-btn"})})]}),e.jsxs("div",{className:"switch_group mb-40",children:[e.jsx(je,{className:"switch-label",children:"Display country in print and PDF?"}),e.jsx(c.Item,{name:"country",valuePropName:"checked",className:"switch-handle",children:e.jsx(k,{className:"switch-btn"})})]}),h?e.jsxs("div",{className:"button_flexbox mt-33",children:[e.jsx(N,{btnText:"Cancel",type:"default",htmlType:"button",className:"btn-form-size btn-default mr-20",clickHandler:()=>n(-1)}),e.jsx(N,{btnText:"Save",className:"btn-form-size btn-primary btn_save",loading:d})]}):null]})})]})]})})},{RiQuestionFill:_e}=se,{Text:J,Title:Es}=v,{STOCK_PREFERENCE:ve}=S,Ts=ae(new Date),Cs={type:"physical",is_inventory_enable:!1,inventory_start_date:Ts},Is=()=>{const[s]=c.useForm(),n=z(),{callAxios:a}=T(),{bool:d,toggle:i}=$(),{org_date_format:u}=Be(),{checkPermission:x}=F(),[j,h]=m.useState(!0),f=c.useWatch("is_inventory_enable",s),{has_PreferenceEdit_permission:t}=x("PreferenceEdit");m.useLayoutEffect(()=>{a({url:ve}).then(r=>{h(!1);const{preferences:o={}}=r||{};s.setFieldsValue({...o,inventory_start_date:ae(o.inventory_start_date,"YYYY-MM-DD"),type:o!=null&&o.physical?"physical":"accounting"})})},[]);const l=r=>{i(),a({method:"put",url:ve,data:{inventory_start_date:We(r.inventory_start_date),status:{is_inventory_enable:r.is_inventory_enable,accounting:r.type==="accounting",physical:r.type==="physical"}}}).then(o=>{i(),o&&P({message:(o==null?void 0:o.message)||""})}).catch(()=>i())};return e.jsx(e.Fragment,{children:j?e.jsx(C,{}):e.jsxs("div",{className:"main_wrapper",children:[e.jsx(I,{name:"Inventory",setting:!0}),e.jsx("div",{className:"_container",children:e.jsxs(c,{form:s,layout:"vertical",onFinish:l,initialValues:Cs,children:[e.jsx(Es,{level:4,className:"form_heading",children:"Stock"}),e.jsxs("div",{className:"form_box",children:[e.jsxs("div",{className:"switch_group",children:[e.jsx(J,{strong:!0,className:"switch-label",children:"Enable stock tracking"}),e.jsx(c.Item,{name:"is_inventory_enable",valuePropName:"checked",className:"switch-handle",children:e.jsx(k,{className:"switch-btn"})})]}),e.jsx("div",{className:"pl-20 handmade_asset",children:e.jsx(c.Item,{label:e.jsx("label",{children:"Mode of stock tracking"}),name:"type",children:e.jsxs(p.Group,{disabled:!f,children:[e.jsx("div",{className:"radio_group",children:e.jsxs(p,{value:"physical",className:"align_label",children:[e.jsx(J,{children:"Physical stock"}),e.jsx(B,{title:"The stock on hand will be calculated based on Receives & Shipments",children:e.jsx(_e,{})})]})}),e.jsx("div",{className:"radio_group",children:e.jsxs(p,{value:"accounting",className:"align_label",children:[e.jsx(J,{children:"Accounting stock"}),e.jsx(B,{title:"The stock on hand will be calculated based on Bills & Invoices",children:e.jsx(_e,{})})]})})]})})}),e.jsx("div",{className:"flexbox  form-row-container justify-content-between mb-15",children:e.jsx("div",{className:"form_group flex-47 mb-30",children:e.jsx(c.Item,{name:"inventory_start_date",label:e.jsx("label",{children:"Inventory start date"}),children:e.jsx(Ue,{size:"large",format:u,disabled:!f})})})}),t?e.jsxs("div",{className:"button_flexbox",children:[e.jsx(N,{btnText:"Cancel",type:"default",htmlType:"button",className:"btn-default btn-form-size mr-20",clickHandler:()=>n(-1)}),e.jsx(N,{btnText:"Save",className:"btn-primary btn-form-size",loading:d})]}):null]})]})})]})})},{DASHBOARD_PREFERNCE:Ne}=S,Ps=[{id:"today",label:"Today"},{id:"week",label:"This Week"},{id:"month",label:"This Month"},{id:"thirty_days",label:"Last 30 Days"},{id:"six_months",label:"Last 6 Months"},{id:"year",label:"This Year"},{id:"last_year",label:"Last Year"},{id:"total",label:"Total"},{id:"custom",label:"Custom"}],O=[{id:"today",label:"Today"},{id:"week",label:"This Week"},{id:"month",label:"This Month"},{id:"thirty_days",label:"Last 30 Days"},{id:"six_months",label:"Last 6 Months"},{id:"year",label:"This Year"},{id:"last_year",label:"Last Year"},{id:"total",label:"Total"},{id:"custom",label:"Custom"}],Ms=()=>{const[s]=c.useForm(),n=z(),{callAxios:a}=T(),{bool:d,toggle:i}=$(),{checkPermission:u}=F(),[x,j]=m.useState(!0),{has_PreferenceEdit_permission:h}=u("PreferenceEdit");m.useLayoutEffect(()=>{a({url:Ne}).then(t=>{j(!1),s.setFieldsValue({...t.preferences})})},[a,s]);const f=t=>{i(),a({method:"put",url:Ne,data:{status:{currPrefrences:{...t}}}}).then(l=>{i(),l&&P({message:l.message})}).catch(()=>i())};return e.jsx(e.Fragment,{children:x?e.jsx(C,{}):e.jsxs("div",{className:"main_wrapper preference_form    ",children:[e.jsx(I,{name:"Dashboard",setting:!0}),e.jsx("div",{className:"_container",children:e.jsxs(c,{form:s,layout:"vertical",onFinish:f,children:[e.jsx(v.Title,{level:4,className:"form_heading",children:"Sales & Purchase"}),e.jsx("div",{className:"form_box",children:e.jsxs("div",{className:"flexbox form-row-container justify-content-between",children:[e.jsx("div",{className:"form_group flex-47 mb-30",children:e.jsx(E,{options:O,name:"sales_information",className:"input_field",placeholder:g.SELECT_TIME_PERIOD,label:e.jsx("label",{children:g.SALES_INFORMATION}),size:"large"})}),e.jsx("div",{className:"form_group flex-47 mb-30",children:e.jsx(E,{options:O,name:"package_and_shipment",className:"input_field",placeholder:g.SELECT_TIME_PERIOD,label:e.jsx("label",{children:g.PACKAGE_AND_SHIPMENT}),size:"large"})})]})}),e.jsx(v.Title,{level:4,className:"form_heading",children:"Receivables & Payables"}),e.jsx("div",{className:"form_box",children:e.jsxs("div",{className:"flexbox form-row-container justify-content-between",children:[e.jsx("div",{className:"form_group flex-47 mb-30",children:e.jsx(E,{options:O,name:"purchase_information",className:"input_field",placeholder:g.SELECT_TIME_PERIOD,label:e.jsx("label",{children:g.PURCHASE_INFORMATION}),size:"large"})}),e.jsx("div",{className:"form_group flex-47 mb-30",children:e.jsx(E,{name:"payable",options:O,className:"input_field",placeholder:g.SELECT_TIME_PERIOD,label:e.jsx("label",{children:g.RECEIVABLES}),size:"large"})})]})}),e.jsx(v.Title,{level:4,className:"form_heading",children:"Top Items & Customers"}),e.jsx("div",{className:"form_box",children:e.jsxs("div",{className:"flexbox form-row-container justify-content-between",children:[e.jsx("div",{className:"form_group flex-47 mb-30",children:e.jsx(E,{name:"top_selling_items",options:O,className:"input_field",placeholder:g.SELECT_TIME_PERIOD,label:e.jsx("label",{children:g.PAYABLES}),size:"large"})}),e.jsx("div",{className:"form_group flex-47 mb-30",children:e.jsx(E,{name:"top_customers",options:O,className:"input_field",placeholder:g.SELECT_TIME_PERIOD,label:e.jsx("label",{children:g.TOP_SELLING_ITEM}),size:"large"})})]})}),e.jsx(v.Title,{level:4,className:"form_heading",children:"Sales"}),e.jsxs("div",{className:"form_box",children:[e.jsxs("div",{className:"flexbox form-row-container justify-content-between",children:[e.jsx("div",{className:"form_group flex-47 mb-30",children:e.jsx(E,{name:"top_customers",options:O,className:"input_field",placeholder:g.SELECT_TIME_PERIOD,label:e.jsx("label",{children:g.TOP_CUSTOMER}),size:"large"})}),e.jsx("div",{className:"form_group flex-47 mb-30",children:e.jsx(E,{name:"sales_vs_purchase",options:O,className:"input_field",placeholder:g.SELECT_TIME_PERIOD,label:e.jsx("label",{children:g.SALES_VS_PURCHASE}),size:"large"})})]}),e.jsx("div",{className:"flexbox form-row-container justify-content-between mb-15",children:e.jsx("div",{className:"form_group flex-47 mb-30",children:e.jsx(E,{name:"sales_order_summary",options:Ps,className:"input_field",placeholder:g.SELECT_TIME_PERIOD,label:e.jsx("label",{children:g.SALES_ORDER_SUMMARY}),size:"large"})})}),h?e.jsxs("div",{className:"button_flexbox",children:[e.jsx(N,{btnText:"Cancel",htmlType:"button",className:"btn-default btn-form-size mr-20",clickHandler:()=>n(-1)}),e.jsx(N,{btnText:"Save",className:"btn-primary btn-form-size",loading:d})]}):null]})]})})]})})},$s={status:!1,adjustment:0,adjustement_criteria:null},Fs=()=>{const[s]=c.useForm(),n=z(),{callAxios:a}=T(),{bool:d,toggle:i}=$(),{checkPermission:u}=F(),[x,j]=m.useState(),[h,f]=m.useState(!0),{has_PreferenceEdit_permission:t}=u("PreferenceEdit"),l=c.useWatch("status",s);m.useEffect(()=>{Promise.all([a({url:S.CREDIT_NOTE_PRFERENCE}),a({url:S.SALE_RETURN_PREFERNCE})]).then(o=>{f(!1),s.setFieldsValue({...o[0].preferences}),j(o[1].map(b=>({id:b.value,label:b.label})))})},[]);const r=o=>{i(),a({method:"put",url:S.CREDIT_NOTE_PRFERENCE,data:{status:o}}).then(b=>{i(),b&&P({message:b.message})}).catch(()=>i())};return e.jsx(e.Fragment,{children:h?e.jsx(C,{}):e.jsxs("div",{className:"main_wrapper",children:[e.jsx(I,{name:"Credit note",setting:!0}),e.jsxs("div",{className:"_container",children:[e.jsx(v.Title,{level:4,className:"form_heading",children:"Credit note Policy"}),e.jsx(c,{form:s,layout:"vertical",name:"create-role-form",initialValues:$s,onFinish:r,children:e.jsxs("div",{className:"form_box",children:[e.jsxs("div",{className:"switch_group",children:[e.jsx(v.Text,{className:"switch-label",children:g.CREDIT_NOTE_DEDUCTION}),e.jsx(c.Item,{name:"status",className:"switch-handle",children:e.jsx(k,{checked:l,className:"switch-btn"})})]}),e.jsx(v.Text,{strong:!0,className:"mb-10 d-block",children:g.CREDIT_NOTE_DEDUCTION_POLICY}),e.jsxs("div",{className:"flexbox form-row-container  justify-content-between",children:[e.jsx("div",{className:"form_group flex-47 mb-40",children:e.jsx(E,{size:"large",className:"input_field",loading:!1,options:x,name:"adjustement_criteria",placeholder:"Select deduction type",label:e.jsx("label",{children:g.DEDUCTION_TYPE}),disabled:!l})}),e.jsx("div",{className:"form_group flex-47 mb-30",children:e.jsx(R,{type:"number",size:"middle",disabled:!l,className:"input_field",name:"adjustment",stringMode:!1,label:e.jsx("label",{children:g.DEDUCTION_VALUE})})})]}),t?e.jsxs("div",{className:"button_flexbox",children:[e.jsx(N,{htmlType:"button",btnText:g.CANCEL,clickHandler:()=>n(-1),className:"btn-form-size btn-default mr-20"}),e.jsx(N,{className:"btn-form-size btn-primary btn_save",btnText:"Save",loading:d})]}):null]})})]})]})})},{Title:Ls}=v,{SALES_ORDER_PREFERENCE:ye}=S,zs={terms:"",so:""},Ds=()=>{const[s]=c.useForm(),n=z(),{callAxios:a}=T(),{bool:d,toggle:i}=$(),{checkPermission:u}=F(),[x,j]=m.useState(!0),{has_PreferenceEdit_permission:h}=u("PreferenceEdit");m.useLayoutEffect(()=>{a({url:ye}).then(t=>{j(!1);const{preferences:l={}}=t||{};let r="";l.invoice&&l.shipment?r="both":l.invoice?r="invoice":l.shipment&&(r="shipment"),s.setFieldsValue({so:r,terms:(t==null?void 0:t.terms)||""})})},[a]);const f=t=>{const{terms:l,so:r}=t,o={invoice:!1,shipment:!1};r==="both"?(o.invoice=!0,o.shipment=!0):r==="invoice"?o.invoice=!0:r==="shipment"&&(o.shipment=!0),i(),a({method:"put",url:ye,data:{status:{...o},terms:l}}).then(b=>{i(),b&&P({message:(b==null?void 0:b.message)||""})}).catch(()=>i())};return e.jsx(e.Fragment,{children:x?e.jsx(C,{}):e.jsxs("div",{className:"main_wrapper",children:[e.jsx(I,{name:"Sales order",setting:!0}),e.jsx("div",{className:"_container",children:e.jsxs(c,{form:s,initialValues:zs,onFinish:f,children:[e.jsx(v.Title,{level:4,className:"form_heading",children:"When do you want your Sales Orders to be closed?"}),e.jsx("div",{className:"form_box",children:e.jsx(c.Item,{name:"so",rules:[{required:!0,message:"Please pick an Option"}],children:e.jsxs(p.Group,{className:"mb-30",children:[e.jsx("div",{className:"radio_group",children:e.jsx(p,{value:"invoice",children:"When invoice is created"})}),e.jsx("div",{className:"radio_group",children:e.jsx(p,{value:"shipment",children:"When shipment is fulfilled"})}),e.jsx("div",{className:"radio_group mb-30",children:e.jsx(p,{value:"both",children:"When shipment is fulfilled and invoice is created"})})]})})}),e.jsx(Ls,{level:4,className:"form_heading",children:"Terms & Conditions"}),e.jsxs("div",{className:"form_box",children:[e.jsx("div",{className:"flexbox  form-row-container justify-content-between",children:e.jsx("div",{className:"form_group flex-47 mb-20",children:e.jsx(c.Item,{name:"terms",children:e.jsx(Y.TextArea,{rows:4,showCount:!0,maxLength:1e3})})})}),h?e.jsxs("div",{className:"button_flexbox",children:[e.jsx(N,{btnText:"Cancel",htmlType:"button",className:"btn-form-size btn-default mr-20",clickHandler:()=>n(-1)}),e.jsx(N,{btnText:"Save",className:"btn-form-size btn-primary",loading:d})]}):null]})]})})]})})},{Title:we}=v,{PURCHASE_ORDER_PREFERENCE:Se}=S,Rs={po:"",terms:""},As=()=>{const[s]=c.useForm(),n=z(),{callAxios:a}=T(),{bool:d,toggle:i}=$(),{checkPermission:u}=F(),[x,j]=m.useState(!0),{has_PreferenceEdit_permission:h}=u("PreferenceEdit");m.useLayoutEffect(()=>{a({url:Se}).then(t=>{j(!1);const{preferences:l={}}=t||{};let r="";l.bill&&l.receive?r="both":l.bill?r="bill":l.receive&&(r="receive"),s.setFieldsValue({po:r,terms:(t==null?void 0:t.terms)||""})})},[a]);const f=t=>{i();const{terms:l,po:r}=t,o={bill:!1,receive:!1};r==="both"?(o.bill=!0,o.receive=!0):r==="bill"?o.bill=!0:r==="receive"&&(o.receive=!0),a({method:"put",url:Se,data:{status:{...o},terms:l}}).then(b=>{i(),b&&P({message:(b==null?void 0:b.message)||""})}).catch(()=>i())};return e.jsx(e.Fragment,{children:x?e.jsx(C,{}):e.jsxs("div",{className:"main_wrapper",children:[e.jsx(I,{name:"Purchase order",setting:!0}),e.jsx("div",{className:"_container",children:e.jsxs(c,{form:s,initialValues:Rs,onFinish:f,children:[e.jsx(we,{level:4,className:"form_heading",children:"When do you want your Purchase Orders to be closed?"}),e.jsx("div",{className:"form_box",children:e.jsx(c.Item,{name:"po",rules:[{required:!0,message:"Please pick an Option"}],children:e.jsxs(p.Group,{className:"mb-25",children:[e.jsx("div",{className:"radio_group",children:e.jsx(p,{value:"bill",children:"When Purchase Order is fully Billed"})}),e.jsx("div",{className:"radio_group",children:e.jsx(p,{value:"receive",children:"When shipment is fulfilled"})}),e.jsx("div",{className:"radio_group mb-30",children:e.jsx(p,{value:"both",children:"When Purchase Order is both fully Received and Billed"})})]})})}),e.jsx(we,{level:4,className:"form_heading",children:"Terms & Conditions"}),e.jsx("div",{className:"form_box",children:e.jsx("div",{className:"flexbox  form-row-container  justify-content-between",children:e.jsx("div",{className:"form_group flex-47 mb-18",children:e.jsx(c.Item,{name:"terms",children:e.jsx(Y.TextArea,{showCount:!0,rows:4,maxLength:1e3})})})})}),e.jsx("div",{className:"form_box",children:h?e.jsxs("div",{className:"button_flexbox",children:[e.jsx(N,{className:"btn-form-size btn-default mr-20",btnText:"Cancel",htmlType:"button",clickHandler:()=>n(-1)}),e.jsx(N,{btnText:"Save",loading:d,className:"btn-form-size btn-primary"})]}):null})]})})]})})},{GENERAL_CATEGORY:Os,CATEGORIES_IMPORT:Hs}=S,Vs=()=>{const[s]=c.useForm(),{callAxios:n}=T(),{toggle:a,bool:d}=$(),[i,u]=m.useState([]),{checkPermission:x}=F(),[j,h]=m.useState(!0),{has_PreferenceEdit_permission:f}=x("PreferenceEdit"),t=c.useWatch("checked",s);m.useEffect(()=>{l()},[]);const l=()=>{n({url:Os}).then(o=>{u(o),h(!1)})},r=o=>{a(),n({method:"post",url:Hs,data:{categories:o.checked}}).then(b=>{a(),s.resetFields(),l(),P({message:b.message})}).catch(()=>a())};return e.jsx(e.Fragment,{children:j?e.jsx(C,{}):e.jsxs("div",{className:"main_wrapper general_categories",children:[e.jsx(I,{name:"General Categories",setting:!0}),e.jsxs("div",{className:"_container",children:[e.jsx(v.Title,{level:3,className:"form_heading",children:"General categories"}),e.jsx(c,{form:s,layout:"vertical",onFinish:r,children:e.jsx("div",{className:"form_box",children:e.jsxs("div",{className:"form_group module-box",children:[e.jsx(v.Text,{children:"Please select required categories."}),e.jsx("div",{className:"flexbox pb-10",children:e.jsx(c.Item,{name:"checked",children:e.jsx(ce.Group,{children:e.jsx("div",{children:i==null?void 0:i.map(({id:o,name:b})=>e.jsx(ce,{className:"w-48 ml-0 mb-10",value:o,children:b},o))})})})}),e.jsx(v.Text,{className:"flexbox mb-15",children:"Note: You cannot change these categories after save"}),f?e.jsx(N,{loading:d,btnText:"Save",htmlType:"submit",disabled:!(t!=null&&t.length),className:"btn-primary btn-form-size"}):null]})})})]})]})})},{TAGS:Gs}=S,ks={name:"",mandatory:"yes"},Ys=()=>{const[s]=c.useForm(),{callAxios:n}=T(),[a,d]=m.useState(!0),i=u=>{n({method:"post",url:`${Gs}`,data:{...u}}).then(x=>{x&&P({message:(x==null?void 0:x.message)||""})})};return m.useEffect(()=>{setTimeout(()=>{d(!1)},1e3)}),e.jsx(e.Fragment,{children:a?e.jsx(C,{}):e.jsxs("div",{className:"main_wrapper",children:[e.jsx(I,{name:"Tags",setting:!0}),e.jsxs("div",{className:"_container",children:[e.jsx(v.Title,{level:4,className:"form_heading",children:"Tags"}),e.jsx(c,{form:s,layout:"vertical",onFinish:i,requiredMark:!1,name:"create-role-form",initialValues:ks,children:e.jsxs("div",{className:"form_box",children:[e.jsx("div",{className:"flexbox form-row-sm-container justify-content-between",children:e.jsx("div",{className:"form_group flex-46 mb-30",children:e.jsx(R,{name:"name",size:"middle",className:"input_field",label:e.jsxs("label",{children:[g.TAG_NAME," ",e.jsx("span",{className:"staric",children:"*"})]}),rules:Ke({message:G.enter_name})})})}),e.jsx("div",{className:"flexbox form-row-sm-container justify-content-between flex-column",children:e.jsx(c.Item,{colon:!1,name:"mandatory",labelAlign:"left",label:e.jsx("label",{children:"Mandatory"}),children:e.jsxs(p.Group,{className:"mb-30",children:[e.jsx("div",{className:"radio_group",children:e.jsx(p,{value:"no",children:"No"})}),e.jsx("div",{className:"radio_group",children:e.jsx(p,{value:"yes",children:"Yes"})})]})})}),e.jsx("div",{className:"flexbox form-row-sm-container justify-content-between",children:e.jsxs("div",{className:"form_group w-50 mb-40",children:[e.jsx("label",{className:"mb-10 d-flex",children:"Options"}),e.jsx(c.Item,{name:"tag_options",rules:[{required:!0,message:G.enter_options}],children:e.jsx(c.List,{name:"tag_options",children:(u,{add:x,remove:j},{errors:h})=>e.jsxs(e.Fragment,{children:[u.map(({key:f,name:t,...l})=>e.jsxs("div",{className:"d-flex justify-content-between mb-30",children:[e.jsx(c.Item,{...l,name:[t,"name"],children:e.jsx(Y,{placeholder:"Options",className:"h-40 extend_field",style:{minWidth:"232px"}})}),e.jsx(hs,{onClick:()=>j(t)})]})),e.jsxs(c.Item,{children:[e.jsx(ee,{block:!0,type:"dashed",onClick:()=>x(),icon:e.jsx(qe,{}),className:"h-40 extend_field",children:"Add field"}),e.jsx(c.ErrorList,{errors:h})]})]})})})]})}),e.jsxs("div",{className:"button_flexbox",children:[e.jsx(c.Item,{children:e.jsx(N,{type:"default",btnText:"Cancel",htmlType:"button",className:"btn-form-size btn-default mr-20"})}),e.jsx(c.Item,{children:e.jsx(ee,{className:"btn-form-size btn-primary",type:"primary",htmlType:"submit",children:"Submit"})})]})]})})]})]})})},Bs={Dp:""},Us=()=>{const[s]=c.useForm(),{callAxios:n}=T(),{bool:a,toggle:d}=$(),[i,u]=m.useState(!0);m.useLayoutEffect(()=>{setTimeout(()=>{u(!1)},1e3),n({url:"preferences/discount"}).then(j=>{console.log({res:j}),u(!1);const{preferences:h={}}=j||{};let f="";h.no_discount?f="no_discount":h.at_individual_item_level?f="at_individual_item_level":h.at_transaction_level&&(f="at_transaction_level"),s.setFieldsValue({Dp:f})})},[n]);const x=j=>{d();const{Dp:h}=j,f={no_discount:!1,at_individual_item_level:!1,at_transaction_level:!1};h==="no_discount"?f.no_discount=!0:h==="at_individual_item_level"?f.at_individual_item_level=!0:h==="at_transaction_level"&&(f.at_transaction_level=!0),n({method:"put",url:"preferences/discount",data:{status:{...f}}}).then(t=>{d(),t&&P({message:(t==null?void 0:t.message)||""})})};return e.jsx(e.Fragment,{children:i?e.jsx(C,{}):e.jsxs("div",{className:"main_wrapper",children:[e.jsx(I,{name:"Discount preference",setting:!0}),e.jsxs("div",{className:"_container",children:[e.jsx(v.Title,{level:4,className:"form_heading",children:"Discount Preference"}),e.jsx(c,{form:s,layout:"vertical",onFinish:x,requiredMark:!1,name:"create-role-form",initialValues:Bs,children:e.jsxs("div",{className:"form_box",children:[e.jsx("div",{className:"flexbox form-row-sm-container justify-content-between flex-column",children:e.jsx(c.Item,{colon:!1,name:"Dp",labelAlign:"left",label:e.jsx(v.Title,{level:4,className:"form_heading",children:"Do you give discounts?"}),children:e.jsxs(p.Group,{className:"mb-30",children:[e.jsx("div",{className:"radio_group",children:e.jsx(p,{value:"no_discount",children:"I don't give discounts"})}),e.jsx("div",{className:"radio_group",children:e.jsx(p,{value:"at_individual_item_level",children:"At individual item level"})}),e.jsx("div",{className:"radio_group",children:e.jsx(p,{value:"at_transaction_level",children:"At transaction level"})})]})})}),e.jsxs("div",{className:"button_flexbox",children:[e.jsx(c.Item,{children:e.jsx(N,{type:"default",btnText:"Cancel",htmlType:"button",className:"btn-form-size btn-default mr-20"})}),e.jsx(c.Item,{children:e.jsx(ee,{className:"btn-form-size btn-primary",loading:a,type:"primary",htmlType:"submit",children:"Submit"})})]})]})})]})]})})},Ws=({current:s,handleChange:n})=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"preferance-left-tab",children:e.jsxs(w,{tabBarGutter:0,type:"card",tabPosition:"left",activeKey:s,onChange:n,className:"preference_tab",children:[e.jsx(w.TabPane,{tab:e.jsx("label",{children:"Dashboard"}),children:e.jsx(Ms,{})},"1"),e.jsx(w.TabPane,{tab:e.jsx("label",{children:"General"}),children:e.jsx(gs,{})},"2"),e.jsx(w.TabPane,{tab:e.jsx("label",{children:"Inventory"}),children:e.jsx(Is,{})},"3"),e.jsx(w.TabPane,{tab:e.jsx("label",{children:"Sales order"}),children:e.jsx(Ds,{})},"4"),e.jsx(w.TabPane,{tab:e.jsx("label",{children:"Purchase order"}),children:e.jsx(As,{})},"5"),e.jsx(w.TabPane,{tab:e.jsx("label",{children:"Estimate"}),children:e.jsx(ys,{})},"6"),e.jsx(w.TabPane,{tab:e.jsx("label",{children:"Invoice & Sale receipt"}),children:e.jsx(vs,{})},"7"),e.jsx(w.TabPane,{tab:e.jsx("label",{children:"Bill & Expense"}),children:e.jsx(fs,{})},"8"),e.jsx(w.TabPane,{tab:e.jsx("label",{children:"Credit note"}),children:e.jsx(Fs,{})},"9"),e.jsx(w.TabPane,{tab:e.jsx("label",{children:"Prefixes"}),children:e.jsx(ws,{})},"10"),e.jsx(w.TabPane,{tab:e.jsx("label",{children:"Prints & PDF"}),children:e.jsx(Ss,{})},"11"),e.jsx(w.TabPane,{tab:e.jsx("label",{children:"Modules"}),children:e.jsx(Xe,{})},"12"),e.jsx(w.TabPane,{tab:e.jsx("label",{children:"General categories"}),children:e.jsx(Vs,{})},"13"),e.jsx(w.TabPane,{tab:e.jsx("label",{children:"Tags"}),children:e.jsx(Ys,{})},"14"),e.jsx(w.TabPane,{tab:e.jsx("label",{children:"Discount preference"}),children:e.jsx(Us,{})},"15")]})})}),aa=()=>{const{checkPermission:s}=F(),{current:n,handleChange:a}=Je(!0),{has_PreferenceView_permission:d}=s("PreferenceView");return e.jsx(e.Fragment,{children:e.jsx(e.Fragment,{children:d?e.jsx(e.Fragment,{children:e.jsx(Ws,{handleChange:a,current:n})}):e.jsx(es,{})})})};export{aa as default};
