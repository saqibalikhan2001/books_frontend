import{j as i,T as f,az as h,B as d,bU as x,H as z,r as _,Y as C}from"./index-4b3d7bc8.js";const j=[10,20,40,60,80,100],k=({Prev:o,Next:t,paginate:e,className:c,handlePage:g,totalPages:r,handleRowSize:s})=>i.jsxs("div",{className:c,children:[i.jsx(f.Text,{children:"Rows"}),i.jsx(h,{value:e.pageSize,onChange:s,children:j.map(l=>i.jsx(h.Option,{children:l},l))}),i.jsx(d,{btnText:"<",disabled:e.page===1,clickHandler:o}),i.jsx(x,{min:1,max:r,controls:!1,name:"paginate-field",value:e.page,onChange:g}),i.jsx(d,{btnText:">",disabled:e.page===r,clickHandler:t}),i.jsx(z,{placement:"bottomLeft",title:`Total pages: ${r}`,children:i.jsxs(f.Text,{className:"text_area",children:["of ",r??100]})})]}),I=(o,t)=>{let e="";return o==="contacts"?e=`?current=${t.page}&pageSize=${t.pageSize}&sort=${t.sort??""}&sort_column=${t.sort_column??""}${t.filter&&`?&filter=${t.filter}`}${t.contact_type&&`?&contact_type=${t.contact_type}`}${t.searchByAlphabet&&`&searchByAlphabet=${t.searchByAlphabet}`}${t.current_balance&&`&current_balance=${t.current_balance}`}${t.start_range&&`&start_range=${t.start_range}`}${t.end_range&&`&end_range=${t.end_range}`}`:o==="items"?e=`?current=${t.page}&pageSize=${t.pageSize}&sort=${t.sort??""}&sort_column=${t.sort!==void 0?t.sort_column:""}${t.filter&&`&filter=${t.filter}`}${t.type&&`&type=${t.type}`}${t.status&&`&status=${t.status}`}${t.category_id&&`&category_id=${t.category_id}`}`:o==="categories"?e=`?current=${t.page}&pageSize=${t.pageSize}&sort=${t.sort??""}&sort_column=${t.sort!==void 0?t.sort_column:""}`:o==="estimates"?e=`?current=${t.page}&pageSize=${t.pageSize}&sort=${t.sort??""}&sort_column=${t.sort!==void 0?t.sort_column:""}${t.filter&&`&filter=${t.filter}`}${t.date_range&&`&date_range=${t.date_range}`}${t.start_range&&`&start_range=${t.start_range}`}${t.end_range&&`&end_range=${t.end_range}`}`:o==="invoices"&&(e=`?current=${t.page}&pageSize=${t.pageSize}&sort=${t.sort??""}&sort_column=${t.sort!==void 0?t.sort_column:""}${t.filter&&`&filter=${t.filter}`}${t.date_range&&`&date_range=${t.date_range}`}${t.start_range&&`&start_range=${t.start_range}`}${t.end_range&&`&end_range=${t.end_range}`}${t.contactId&&`&contactId=${t.contactId}`}`),e},T=o=>{const t=localStorage.getItem("params"),e=JSON.parse(t),[c,g]=_.useState({page:(e==null?void 0:e.page)??1,pageSize:(e==null?void 0:e.pageSize)??20,sort:(e==null?void 0:e.sort)??(["items","contacts","categories"].includes(o)?"asc":"desc"),sort_column:["items","categories"].includes(o)?"name":o==="contacts"?"display_name":o==="estimates"?"estimate_date":o==="invoices"?"invoice_date":(e==null?void 0:e.sort_column)??"",filter:(e==null?void 0:e.filter)??"",type:(e==null?void 0:e.type)??"",status:(e==null?void 0:e.status)??"",category_id:(e==null?void 0:e.category_id)??"",contact_type:(e==null?void 0:e.contact_type)??"",searchByAlphabet:(e==null?void 0:e.searchByAlphabet)??"",current_balance:(e==null?void 0:e.current_balance)??"",start_range:(e==null?void 0:e.start_range)??"",end_range:(e==null?void 0:e.end_range)??"",date_range:(e==null?void 0:e.date_range)??"",contactId:(e==null?void 0:e.contactId)??""});_.useEffect(()=>{const n={...c,sort_column:c.sort!==void 0?c.sort_column:""};localStorage.setItem("params",JSON.stringify(n));const y=I(o,n);let $=window.location.origin+window.location.pathname+y;history.pushState(history.state,o??"",$)},[c,o]);const r=_.useCallback((n,y,$)=>{g({...n,...c,sort:(c==null?void 0:c.sort)==="asc"?"desc":"asc",sort_column:$.field||$.columnKey})},[c]),s=_.useCallback(()=>g({...c,page:c.page-1}),[c]),l=_.useCallback(()=>g({...c,page:c.page+1}),[c]),b=C(_.useCallback(n=>{g({...c,page:n})},[c]),500),u=_.useCallback(n=>{g({...c,pageSize:n})},[c]),S=_.useCallback(n=>{g({...c,page:n.page,sort:n.sort,sort_column:n.sort_column,filter:n.filter,type:n==null?void 0:n.type,status:n==null?void 0:n.status,category_id:n==null?void 0:n.category_id,contact_type:n==null?void 0:n.contact_type,searchByAlphabet:n.searchByAlphabet,current_balance:n.current_balance,start_range:n.start_range,end_range:n.end_range,date_range:n.date_range,contactId:n.contactId})},[c]);return{Next:l,Prev:s,onChange:r,paginate:c,handlePage:b,handleRowSize:u,handlePagination:S}};export{k as C,T as u};
