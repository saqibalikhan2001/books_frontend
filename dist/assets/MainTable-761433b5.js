import{u as P,r as R,j as a,f as A,S as p,B as E,T as H,I as L,h}from"./index-4b3d7bc8.js";import{u as v}from"./useSearchParam-ebfda256.js";const{RiDeleteBinLine:F}=L,O=({url:d,refetch:m,loading:g,columns:x,listing:e,handleParams:r,bulkDeleteTrue:o,handleViewClick:u,className:S,paymentReceived:f=!1})=>{const{callAxios:y,bool:n,toggle:i}=P(),{onChange:j,getParams:w}=v("",!1,r),{page:z,pageSize:B}=w(),[I,T]=R.useState([]),C={onChange:t=>{t.length?!n&&i():t.length||n&&i(),T(t)}},b=()=>{y({method:"delete",url:d,data:{ids:I}}).then(t=>{t&&(h({message:t==null?void 0:t.message}),m(),o==null||o())}).catch(t=>{var s,l,c;return h({message:((l=(s=t==null?void 0:t.response)==null?void 0:s.data)==null?void 0:l.message)||((c=t==null?void 0:t.response)==null?void 0:c.message)||(t==null?void 0:t.message),type:"error"})})};return a.jsx(a.Fragment,{children:a.jsx(A,{bordered:!1,className:S,showHeader:!0,onChange:j,columns:x,loading:g,scroll:{...Number(e.total)>10&&{y:600}},dataSource:e.data||[],rowSelection:{type:"checkbox",...C,columnWidth:30},pagination:{total:e.total,current:z,pageSize:B,size:"small",showTotal:()=>a.jsxs(p,{style:{height:"50px"},children:[n&&a.jsx(E,{danger:!0,size:"middle",type:"primary",btnText:"Delete",icon:a.jsx(F,{size:15,style:{marginRight:"10px"}}),clickHandler:b}),a.jsx(p,{style:{marginBottom:"40px"},children:a.jsx(H.Title,{level:5,code:!0,children:`Total:  ${e.total}`})})]}),showLessItems:!0,position:["topRight"],showSizeChanger:!0,pageSizeOptions:["10","20","30","50"]},rowKey:t=>t.id||t.payment_no,onRow:t=>({onClick:s=>{s.stopPropagation(),u(t,e.data,f)}})})})};export{O as default};
