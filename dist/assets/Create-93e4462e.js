import{F as x,r as f,j as e,M as b,n as s,A as p,D as A,p as u,C as j,B as h,I as C,u as N,G as g,h as _,l as y}from"./index-4b3d7bc8.js";import{A as F}from"./AccessDenied-45b92511.js";const{AiOutlineUser:R,AiOutlinePercentage:I}=C,k={name:"",rate:"",authority:"",is_compound:!1},$=({bool:c,toggle:m,loading:t,current:a,onSubmit:o,has_permission:r})=>{const[l]=x.useForm(),d=()=>l.resetFields();f.useEffect(()=>{a&&Object.keys(a).length&&l.setFieldsValue({...a})},[a,l]);const n=()=>{d(),m(),l.resetFields()};return e.jsx(b,{title:`${a!=null&&a.name?s.UPDATE:s.ENTER} ${s.TAX}`,open:c,footer:null,destroyOnClose:!0,style:{top:0},maskClosable:!1,onCancel:n,afterClose:d,centered:!0,wrapClassName:"generic_modal_style",children:r?e.jsx("div",{className:"generic_modal",children:e.jsxs(x,{name:`${s.ENTER}-${s.TAX}`,initialValues:k,form:l,layout:"vertical",onFinish:o,children:[e.jsx(p,{size:"middle",name:"name",label:s.NAME,LeftIcon:e.jsx(R,{}),rules:A({message:u.enter_name}),placeholder:`${s.ENTER} ${s.NAME}`,className:"input_field"}),e.jsx(p,{size:"middle",name:"rate",label:s.RATE,placeholder:s.RATE,addonAfter:e.jsx(I,{}),rules:A({message:u.enter_rate}),className:"input_field"}),e.jsx(p,{size:"middle",label:s.AUTHORITY,name:"authority",placeholder:s.AUTHORITY,className:"input_field"}),e.jsx(x.Item,{name:"is_compound",valuePropName:"checked",children:e.jsx(j,{children:u.compound_tax})}),e.jsxs("div",{className:"button_flexbox flex-end",children:[e.jsx(h,{type:"default",htmlType:"button",btnText:s.CANCEL,clickHandler:n,className:"btn-form-size btn-default mr-20"}),e.jsx(h,{block:!0,loading:t,style:{width:"120px"},btnText:a!=null&&a.name?s.UPDATE:s.CREATE,className:"btn-form-size btn-primary"})]})]})}):e.jsx(F,{})})},{TAXES:z}=y,B=({bool:c,toggle:m,refetch:t,has_permission:a,setTaxObj:o,taxObj:r})=>{const{callAxios:l}=N(),{bool:d,toggle:n}=g(),E=T=>{n(),l({method:"post",data:T,url:z}).then(i=>{n(),i&&(o==null||o({...r,...i==null?void 0:i.data}),m(),t==null||t(),_({message:i.message}))})};return e.jsx(e.Fragment,{children:e.jsx($,{bool:c,toggle:m,onSubmit:E,loading:d,has_permission:a})})};export{B as C,$ as T};
